<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Posts on B SiddharthaüöÄ</title>
        <link>/fr/posts/</link>
        <description>Recent content in Posts on B SiddharthaüöÄ</description>
        <generator>Hugo -- gohugo.io</generator>
        <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc/4.0/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CC BY-NC 4.0&lt;/a&gt;</copyright>
        <lastBuildDate>Sun, 28 Sep 2014 00:00:00 +0000</lastBuildDate>
        <atom:link href="/fr/posts/index.xml" rel="self" type="application/rss+xml" />
        
        <item>
            <title>Cr√©ation d&#39;un nouveau th√®me</title>
            <link>/fr/posts/2014/09/cr%C3%A9ation-dun-nouveau-th%C3%A8me/</link>
            <pubDate>Sun, 28 Sep 2014 00:00:00 +0000</pubDate>
            
            <guid>/fr/posts/2014/09/cr%C3%A9ation-dun-nouveau-th%C3%A8me/</guid>
            <description>Introduction Ce tutoriel vous montrera comment cr√©er un th√®me simple pour Hugo. Je suppose que vous √™tes familier avec HTML, la ligne de commande bash, et que vous √™tes √† l&amp;rsquo;aise avec Markdown pour formater le contenu. Je vais expliquer comment Hugo utilise des mod√®les et comment vous pouvez organiser vos mod√®les pour cr√©er un th√®me. Je ne couvrirai pas l&amp;rsquo;utilisation de CSS pour styliser votre th√®me.
Nous allons commencer par cr√©er un nouveau site avec un mod√®le tr√®s basique.</description>
            <content type="html"><![CDATA[

<h2 id="introduction">Introduction</h2>

<p>Ce tutoriel vous montrera comment cr√©er un th√®me simple pour Hugo. Je suppose que vous √™tes familier avec HTML, la ligne de commande bash, et que vous √™tes √† l&rsquo;aise avec Markdown pour formater le contenu. Je vais expliquer comment Hugo utilise des mod√®les et comment vous pouvez organiser vos mod√®les pour cr√©er un th√®me. Je ne couvrirai pas l&rsquo;utilisation de CSS pour styliser votre th√®me.</p>

<p>Nous allons commencer par cr√©er un nouveau site avec un mod√®le tr√®s basique. Ensuite, nous ajouterons quelques pages et des publications. Avec de petites variations, vous pourrez cr√©er de nombreux types de sites web.</p>

<p>Dans ce tutoriel, les commandes que vous entrez commenceront par l&rsquo;invite &ldquo;$&rdquo;. La sortie suivra. Les lignes qui commencent par &ldquo;#&rdquo; sont des commentaires que j&rsquo;ai ajout√©s pour expliquer un point. Lorsque je montre les mises √† jour d&rsquo;un fichier, le &ldquo;:wq&rdquo; sur la derni√®re ligne signifie qu&rsquo;il faut sauvegarder le fichier.</p>

<p>Voici un exemple :</p>

<pre><code>## Ceci est un commentaire
$ echo ceci est une commande
ceci est une commande

## √©dition d'un fichier
$vi foo.md
+++
date = &quot;2014-09-28&quot;
title = &quot;Cr√©ation d'un nouveau th√®me&quot;
+++

Contenu du fichier
:wq

## L'afficher
$ cat foo.md
+++
date = &quot;2014-09-28&quot;
title = &quot;Cr√©ation d'un nouveau th√®me&quot;
+++

Contenu du fichier
$
</code></pre>

<h2 id="quelques-d√©finitions">Quelques d√©finitions</h2>

<p>Il y a quelques concepts que vous devez comprendre avant de cr√©er un th√®me.</p>

<h3 id="skins">Skins</h3>

<p>Les skins sont les fichiers responsables de l&rsquo;apparence de votre site. C&rsquo;est le CSS qui contr√¥le les couleurs et les polices, c&rsquo;est le Javascript qui d√©termine les actions et les r√©actions. Ce sont aussi les r√®gles que Hugo utilise pour transformer votre contenu en HTML que le site montrera aux visiteurs.</p>

<p>Vous avez deux fa√ßons de cr√©er un skin. Le moyen le plus simple est de le cr√©er dans le r√©pertoire <code>layouts/</code>. Si vous le faites, vous n&rsquo;avez pas √† vous soucier de configurer Hugo pour le reconna√Ætre. Le premier endroit o√π Hugo recherchera pour les r√®gles et les fichiers se trouve dans le r√©pertoire <code>layouts/</code> afin de trouver toujours le skin.</p>

<p>Votre deuxi√®me choix est de le cr√©er dans un sous-r√©pertoire du r√©pertoire <code>themes/</code>. Si vous le faites, vous devez toujours indiquer √† Hugo o√π chercher le skin. C&rsquo;est un travail suppl√©mentaire, cependant, alors, pourquoi s&rsquo;emb√™ter avec √ßa?</p>

<p>La diff√©rence entre la cr√©ation d&rsquo;un skin dans <code>layouts/</code> et la cr√©ation dans <code>themes/</code> est tr√®s subtile. Un skin dans <code>layouts/</code> ne peut pas √™tre personnalis√© sans mettre √† jour les mod√®les et les fichiers statiques sur lesquels il est construit. Un skin cr√©√© dans <code>themes/</code>, d&rsquo;autre part, peut √™tre et facilite son utilisation par d&rsquo;autres personnes.</p>

<p>Le reste de ce tutoriel appellera un skin cr√©√© dans le r√©pertoire <code>th√®mes/</code>, un th√®me.</p>

<p>Notez que vous pouvez utiliser ce tutoriel pour cr√©er un skin dans le r√©pertoire <code>layouts/</code> si vous le souhaitez. La principale diff√©rence sera que vous n&rsquo;aurez pas besoin de mettre √† jour le fichier de configuration du site pour utiliser un th√®me.</p>

<h3 id="la-page-d-accueil">La page d&rsquo;accueil</h3>

<p>La page d&rsquo;accueil, ou la page de destination, est la premi√®re page que beaucoup de visiteurs d&rsquo;un site voient. C&rsquo;est le fichier index.html dans le r√©pertoire racine du site Web. Puisque Hugo √©crit des fichiers dans le r√©pertoire public/, notre page d&rsquo;accueil est public/index.html.</p>

<h3 id="fichier-de-configuration-du-site">Fichier de configuration du site</h3>

<p>Lorsque Hugo s&rsquo;ex√©cute, il recherche un fichier de configuration qui contient des param√®tres qui remplacent les valeurs par d√©faut pour l&rsquo;ensemble du site. Le fichier peut utiliser TOML, YAML ou JSON. Je pr√©f√®re utiliser TOML pour mes fichiers de configuration. Si vous pr√©f√©rez utiliser JSON ou YAML, vous devrez traduire mes exemples. Vous devrez √©galement modifier le nom du fichier puisque Hugo utilise l&rsquo;extension pour d√©terminer comment le traiter.</p>

<p>Hugo traduit les fichiers Markdown en HTML. Par d√©faut, Hugo s&rsquo;attend √† trouver des fichiers Markdown dans votre r√©pertoire <code>content/</code> and les mod√®les dans le r√©pertoire <code>themes/</code>. Il cr√©era les fichiers HTML dans votre r√©pertoire <code>public/</code>. Vous pouvez le modifier en sp√©cifiant d&rsquo;autres emplacements dans le fichier de configuration.</p>

<h3 id="le-contenu">Le contenu</h3>

<p>Le contenu est stock√© dans des fichiers texte contenant deux sections. La premi√®re section est la &ldquo;section liminaire&rdquo;, qui contient les m√©ta-informations sur le contenu. La deuxi√®me section contient le Markdown qui sera converti en HTML.</p>

<h4 id="section-liminaire">Section liminaire</h4>

<p>La section liminaire est une information sur le contenu. Comme le fichier de configuration, il peut √™tre √©crit en TOML, YAML ou JSON. Contrairement au fichier de configuration, Hugo n&rsquo;utilise pas l&rsquo;extension du fichier pour conna√Ætre le format. Il recherche des marqueurs pour signaler le type. TOML est entour√© de &ldquo;<code>+++</code>&rdquo;, YAML par &ldquo;<code>---</code>&rdquo;, et JSON est enferm√© dans des accolades. Je pr√©f√®re utiliser TOML, donc vous devrez traduire mes exemples si vous pr√©f√©rez YAML ou JSON.</p>

<p>L&rsquo;information dans la section liminaire est transmise au mod√®le avant que le contenu ne soit rendu en HTML.</p>

<h4 id="markdown">Markdown</h4>

<p>Le contenu est √©crit dans Markdown qui facilite la cr√©ation du contenu. Hugo ex√©cute le contenu via un moteur Markdown pour cr√©er le code HTML qui sera √©crit dans le fichier de sortie.</p>

<h3 id="mod√®les">Mod√®les</h3>

<p>Hugo utilise des mod√®les pour rendre le contenu en HTML. Les mod√®les sont un pont entre le contenu et la pr√©sentation. Les r√®gles du mod√®le d√©finissent quel contenu est publi√©, o√π il est publi√© et comment il sera rendu au fichier HTML. Le mod√®le guide la pr√©sentation en sp√©cifiant le style √† utiliser.</p>

<p>Il existe trois types de mod√®les: simple, liste et partiel. Chaque type prend un peu de contenu comme entr√©e et le transforme en fonction des commandes du mod√®le.</p>

<p>Hugo utilise sa connaissance du contenu pour trouver le mod√®le a utiliser pour rendre le contenu. S&rsquo;il ne peut pas trouver un mod√®le qui correspond exactement au contenu, il changera de niveau et recherchera √† partir de l√†. Il continuera √† le faire jusqu&rsquo;√† ce qu&rsquo;il trouve un mod√®le correspondant ou ne dispose plus de mod√®les √† essayer. S&rsquo;il ne peut pas trouver un mod√®le, il utilisera le mod√®le par d√©faut pour le site.</p>

<p>Veuillez noter que vous pouvez utiliser la section liminaire pour influencer le choix de mod√®les de Hugo.</p>

<h4 id="mod√®le-simple">Mod√®le simple</h4>

<p>Un mod√®le simple est utilis√© pour rendre un seul contenu. Par exemple, un article ou une publication serait un seul √©l√©ment de contenu et utiliserait un mod√®le simple.</p>

<h4 id="mod√®le-de-liste">Mod√®le de liste</h4>

<p>Un mod√®le de liste rend un groupe de contenu connexe. Cela pourrait √™tre un r√©sum√© des publications r√©centes ou de tous les articles d&rsquo;une cat√©gorie. Les mod√®les de liste peuvent contenir plusieurs groupes.</p>

<p>Le mod√®le de la page d&rsquo;accueil est un type sp√©cial de mod√®le de liste. Hugo suppose que la page d&rsquo;accueil de votre site servira de portail pour le reste du contenu sur le site.</p>

<h4 id="mod√®le-partiel">Mod√®le partiel</h4>

<p>Un mod√®le partiel est un mod√®le qui peut √™tre inclus dans d&rsquo;autres mod√®les. Les mod√®les partiels doivent √™tre appel√©s en utilisant la commande de mod√®le &ldquo;partial&rdquo;. Ils sont tr√®s utiles pour utiliser des comportement commun. Par exemple, votre site peut avoir une banni√®re que toutes les pages utilisent. Au lieu de copier le texte de la banni√®re dans chaque mod√®le simple et de liste, vous pouvez cr√©er une partie avec la banni√®re. De cette fa√ßon, si vous d√©cidez de modifier la banni√®re, il vous suffit de changer le mod√®le partiel.</p>

<h2 id="cr√©er-un-nouveau-site">Cr√©er un nouveau site</h2>

<p>Utilisons Hugo pour cr√©er un nouveau site Web. Je suis un utilisateur Mac, alors je vais cr√©er le mien dans mon r√©pertoire personnel, dans le dossier Sites. Si vous utilisez Linux, vous devrez d&rsquo;abord cr√©er le dossier.</p>

<p>La commande &ldquo;new site&rdquo; cr√©era un squelette d&rsquo;un site. Il vous donnera la structure de r√©pertoire de base et un fichier de configuration utilisable.</p>

<pre><code>$ hugo new site ~/Sites/zafta
$ cd ~/Sites/zafta
$ ls -l
total 8
drwxr-xr-x  7 quoha  staff  238 Sep 29 16:49 .
drwxr-xr-x  3 quoha  staff  102 Sep 29 16:49 ..
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 archetypes
-rw-r--r--  1 quoha  staff   82 Sep 29 16:49 config.toml
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 content
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 layouts
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 static
$
</code></pre>

<p>Consultez le r√©pertoire content/ pour confirmer qu&rsquo;il est vide.</p>

<p>Les autres r√©pertoires (archetypes/, layouts/ et static/) sont utilis√©s lors de la personnalisation d&rsquo;un th√®me. C&rsquo;est un sujet pour un tutoriel diff√©rent, alors ignorez-les pour l&rsquo;instant.</p>

<h3 id="g√©n√©rer-le-html-pour-le-nouveau-site">G√©n√©rer le HTML pour le nouveau site</h3>

<p>√âx√©cuter la commande <code>hugo</code> sans options permet de lire tout le contenu disponible et de g√©n√©rer les fichiers HTML. Il copiera √©galement tous les fichiers statiques (tout ce qui n&rsquo;est pas du contenu). Comme nous avons un site vide, il ne fera pas grand chose, mais il le fera tr√®s rapidement.</p>

<pre><code>$ hugo --verbose
INFO: 2014/09/29 Using config file: config.toml
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
WARN: 2014/09/29 Unable to locate layout: [index.html _default/list.html
                                            _default/single.html]
WARN: 2014/09/29 Unable to locate layout: [404.html]
0 draft content
0 future content
0 pages created
0 tags created
0 categories created
in 2 ms
$
</code></pre>

<p>Le drapeau &ldquo;<code>--verbose</code> &ldquo;donne des informations suppl√©mentaires qui seront utiles lorsque nous cr√©erons le mod√®le. Chaque ligne de sortie qui commence par &ldquo;INFO:&rdquo; ou &ldquo;WARN:&rdquo; est pr√©sente car nous avons utilis√© ce drapeau. Les lignes qui commencent par &ldquo;WARN:&rdquo; sont des messages d&rsquo;avertissement. Nous les examinerons plus tard.</p>

<p>Nous pouvons v√©rifier que la commande a fonctionn√© en regardant de nouveau le r√©pertoire.</p>

<pre><code>$ ls -l
total 8
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 archetypes
-rw-r--r--  1 quoha  staff   82 Sep 29 16:49 config.toml
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 content
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 layouts
drwxr-xr-x  4 quoha  staff  136 Sep 29 17:02 public
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 static
$
</code></pre>

<p>Voyez-vous ce nouveau r√©pertoire public/ ? Hugo y a plac√© tout le contenu g√©n√©r√©. Lorsque vous √™tes pr√™t √† publier votre site Web, c&rsquo;est l&rsquo;endroit id√©al pour commencer. Pour l&rsquo;instant, nous allons simplement confirmer que nous avons ce que nous attendons pour un site sans contenu.</p>

<pre><code>$ ls -l public
total 16
-rw-r--r--  1 quoha  staff  416 Sep 29 17:02 index.xml
-rw-r--r--  1 quoha  staff  262 Sep 29 17:02 sitemap.xml
$
</code></pre>

<p>Hugo a cr√©√© deux fichiers XML, ce qui est standard, mais il n&rsquo;y a pas de fichiers HTML.</p>

<h3 id="tester-le-nouveau-site">Tester le nouveau site</h3>

<p>V√©rifiez que vous pouvez ex√©cuter le serveur Web int√©gr√©. Cela r√©duira consid√©rablement votre cycle de d√©veloppement si vous le faites. Commencez en ex√©cutant la commande &ldquo;server&rdquo;. Si vous r√©ussissez, vous verrez une sortie similaire √† la suivante:</p>

<pre><code>$ hugo server --verbose
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
WARN: 2014/09/29 Unable to locate layout: [index.html _default/list.html
                                            _default/single.html]
WARN: 2014/09/29 Unable to locate layout: [404.html]
0 draft content
0 future content
0 pages created
0 tags created
0 categories created
in 2 ms
Serving pages from /Users/quoha/Sites/zafta/public
Web Server is available at http://localhost:1313
Press Ctrl+C to stop
</code></pre>

<p>Connectez-vous √† l&rsquo;URL r√©pertori√© (c&rsquo;est sur la ligne qui commence par &ldquo;Web Server&rdquo;). Si tout fonctionne correctement, vous devriez obtenir une page qui montre ce qui suit:</p>

<pre><code>index.xml
sitemap.xml
</code></pre>

<p>C&rsquo;est une liste de votre r√©pertoire public/. Hugo n&rsquo;a pas cr√©√© une page d&rsquo;accueil car notre site n&rsquo;a aucun contenu. Quand il n&rsquo;y a pas de fichier index.html dans un r√©pertoire, le serveur r√©pertorie les fichiers dans le r√©pertoire, ce que vous devriez voir dans votre navigateur.</p>

<p>Revenons encore √† ces avertissements.</p>

<pre><code>WARN: 2014/09/29 Unable to locate layout: [index.html _default/list.html
                                            _default/single.html]
WARN: 2014/09/29 Unable to locate layout: [404.html]
</code></pre>

<p>Ce deuxi√®me avertissement est plus facile √† expliquer. Nous n&rsquo;avons pas cr√©√© un mod√®le √† utiliser pour g√©n√©rer des &ldquo;erreurs de page non trouv√©es&rdquo;. Le message 404 est un sujet pour un tutoriel distinct.</p>

<p>√Ä propos du premier avertissement. C&rsquo;est pour la page d&rsquo;accueil. Vous pouvez le dire parce que la premi√®re mise en page qu&rsquo;il recherchait √©tait &ldquo;index.html&rdquo;. Cela n&rsquo;est utilis√© que par la page d&rsquo;accueil.</p>

<p>J&rsquo;aime que le drapeau verbose demande √† Hugo de lister les fichiers qu&rsquo;il recherche. Pour la page d&rsquo;accueil, ce sont index.html, _default/list.html et _default/single.html. Il y a des r√®gles que nous aborderons plus loin qui expliquent les noms et les chemins. Pour l&rsquo;instant, n&rsquo;oubliez pas que Hugo n&rsquo;a pas pu trouver un mod√®le pour la page d&rsquo;accueil et il vous l&rsquo;a dit.</p>

<p>√Ä ce stade, vous avez une installation de travail et un site sur lequel nous pouvons d√©velopper. Tout ce qui reste, c&rsquo;est d&rsquo;ajouter du contenu et un th√®me pour l&rsquo;afficher.</p>

<h2 id="cr√©er-un-nouveau-th√®me">Cr√©er un nouveau th√®me</h2>

<p>Hugo ne fournit pas de th√®me par d√©faut. Il y a quelques-uns disponibles (j&rsquo;ai compt√© une douzaine lorsque j&rsquo;ai install√© Hugo pour la premi√®re fois) et Hugo contient une commande pour cr√©er de nouveaux th√®mes.</p>

<p>Nous allons cr√©er un nouveau th√®me appel√© &ldquo;zafta&rdquo;. √âtant donn√© que le but de ce didacticiel est de vous montrer comment remplir les fichiers pour extraire votre contenu, le th√®me ne contiendra aucun CSS. En d&rsquo;autres termes, moche mais fonctionnel.</p>

<p>Tous les th√®mes utilisent des philosophies diff√©rentes sur le contenu et la mise en page. Les philosophies fortes permettent de cr√©er un th√®me facilement, mais diff√©rentes philosophies rendrons l&rsquo;utilisation du th√®me plus difficile. Par exemple, Zafta utilise &ldquo;post&rdquo; au lieu de &ldquo;blog&rdquo;. Lorsque vous construisez un th√®me, envisagez d&rsquo;utiliser les termes que d&rsquo;autres th√®mes utilisent.</p>

<h3 id="cr√©er-un-squelette">Cr√©er un squelette</h3>

<p>Utilisez la commande &ldquo;new&rdquo; de Hugo pour cr√©er le squelette d&rsquo;un th√®me. Cela cr√©e la structure du r√©pertoire et place les fichiers vides √† remplir.</p>

<pre><code>$ hugo new theme zafta

$ ls -l
total 8
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 archetypes
-rw-r--r--  1 quoha  staff   82 Sep 29 16:49 config.toml
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 content
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 layouts
drwxr-xr-x  4 quoha  staff  136 Sep 29 17:02 public
drwxr-xr-x  2 quoha  staff   68 Sep 29 16:49 static
drwxr-xr-x  3 quoha  staff  102 Sep 29 17:31 themes

$ find themes -type f | xargs ls -l
-rw-r--r--  1 quoha  staff  1081 Sep 29 17:31 themes/zafta/LICENSE.md
-rw-r--r--  1 quoha  staff     0 Sep 29 17:31 themes/zafta/archetypes/default.md
-rw-r--r--  1 quoha  staff     0 Sep 29 17:31 themes/zafta/layouts/_default/
                                                list.html
-rw-r--r--  1 quoha  staff     0 Sep 29 17:31 themes/zafta/layouts/_default/
                                                single.html
-rw-r--r--  1 quoha  staff     0 Sep 29 17:31 themes/zafta/layouts/index.html
-rw-r--r--  1 quoha  staff     0 Sep 29 17:31 themes/zafta/layouts/partials/
                                                footer.html
-rw-r--r--  1 quoha  staff     0 Sep 29 17:31 themes/zafta/layouts/partials/
                                                header.html
-rw-r--r--  1 quoha  staff    93 Sep 29 17:31 themes/zafta/theme.toml
$
</code></pre>

<p>Le squelette comprend des mod√®les (les fichiers se terminant par .html), un fichier de licence, une description de votre th√®me (le fichier theme.toml) et un arch√©type vide.</p>

<p>Prenez une minute pour remplir les fichiers theme.toml et LICENSE.md. Ils sont facultatifs, mais si vous allez distribuer votre th√®me, il dit au monde qui f√©liciter (ou bl√¢mer). Il est √©galement agr√©able de d√©clarer la licence afin que les gens sachent comment ils peuvent utiliser le th√®me.</p>

<pre><code>$ vi themes/zafta/theme.toml
author = &quot;michael d henderson&quot;
description = &quot;Un th√®me minimal fonctionnel&quot;
license = &quot;MIT&quot;
name = &quot;zafta&quot;
source_repo = &quot;&quot;
tags = [&quot;tags&quot;, &quot;categories&quot;]
:wq

## √©ditez √©galement themes/zafta/LICENSE.md et changez
## l'emplacement o√π il est √©crit &quot;YOUR_NAME_HERE&quot;
</code></pre>

<p>Notez que les fichiers du squelette du th√®me sont vides. Ne vous inqui√®tez pas, nous allons rem√©dier √† cela rapidement.</p>

<pre><code>$ find themes/zafta -name '*.html' | xargs ls -l
-rw-r--r--  1 quoha  staff  0 Sep 29 17:31 themes/zafta/layouts/_default/
                                            list.html
-rw-r--r--  1 quoha  staff  0 Sep 29 17:31 themes/zafta/layouts/_default/
                                            single.html
-rw-r--r--  1 quoha  staff  0 Sep 29 17:31 themes/zafta/layouts/
                                            index.html
-rw-r--r--  1 quoha  staff  0 Sep 29 17:31 themes/zafta/layouts/partials/
                                            footer.html
-rw-r--r--  1 quoha  staff  0 Sep 29 17:31 themes/zafta/layouts/partials/
                                            header.html
$
</code></pre>

<h3 id="mettre-√†-jour-le-fichier-de-configuration-pour-utiliser-notre-th√®me">Mettre √† jour le fichier de configuration pour utiliser notre th√®me</h3>

<p>Maintenant que nous avons un th√®me sur lequel travailler, il est judicieux d&rsquo;ajouter le nom du th√®me au fichier de configuration. Ceci est facultatif, car vous pouvez toujours ajouter &ldquo;-t zafta&rdquo; √† toutes vos commandes. J&rsquo;aime mettre le fichier de configuration car j&rsquo;aime les lignes de commande plus courtes. Si vous ne le placez pas dans le fichier de configuration ou ne le sp√©cifiez pas sur la ligne de commande, vous n&rsquo;utiliserez pas le mod√®le que vous attendez.</p>

<p>Modifiez le fichier pour ajouter le th√®me, ajoutez un titre pour le site et sp√©cifiez que tout notre contenu utilisera le format TOML.</p>

<pre><code>$ vi config.toml
theme = &quot;zafta&quot;
baseurl = &quot;&quot;
languageCode = &quot;en-us&quot;
title = &quot;zafta - totally refreshing&quot;
MetaDataFormat = &quot;toml&quot;
:wq

$
</code></pre>

<h3 id="g√©n√©rer-le-site">G√©n√©rer le site</h3>

<p>Maintenant que nous avons un th√®me vide, g√©n√©rez le site √† nouveau.</p>

<pre><code>$ hugo --verbose
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html]
0 draft content
0 future content
0 pages created
0 tags created
0 categories created
in 2 ms
$
</code></pre>

<p>Avez-vous remarqu√© que la sortie est diff√©rente? Le message d&rsquo;avertissement pour la page d&rsquo;accueil a disparu et nous avons une ligne d&rsquo;information suppl√©mentaire indiquant que Hugo est en train de se synchroniser avec le r√©pertoire du th√®me.</p>

<p>V√©rifions le r√©pertoire public/ pour voir ce que Hugo a g√©n√©r√©.</p>

<pre><code>$ ls -l public
total 16
drwxr-xr-x  2 quoha  staff   68 Sep 29 17:56 css
-rw-r--r--  1 quoha  staff    0 Sep 29 17:56 index.html
-rw-r--r--  1 quoha  staff  407 Sep 29 17:56 index.xml
drwxr-xr-x  2 quoha  staff   68 Sep 29 17:56 js
-rw-r--r--  1 quoha  staff  243 Sep 29 17:56 sitemap.xml
$
</code></pre>

<p>Notez quatre choses:</p>

<ol>
<li>Hugo a cr√©√© une page d&rsquo;accueil. C&rsquo;est le fichier public/index.html.</li>
<li>Hugo a cr√©√© un r√©pertoire css/.</li>
<li>Hugo a cr√©√© un r√©pertoire js/.</li>
<li>Hugo a affirm√© avoir cr√©√© 0 pages. Il a cr√©√© un fichier et copi√© sur des fichiers statiques, mais n&rsquo;a pas cr√©√© de pages. C&rsquo;est parce qu&rsquo;il consid√®re une ¬´page¬ª comme un fichier cr√©√© directement √† partir d&rsquo;un fichier de contenu. Il ne compte pas les choses comme les fichiers index.html qu&rsquo;il cr√©e automatiquement.</li>
</ol>

<h4 id="la-page-d-accueil-1">La page d&rsquo;accueil</h4>

<p>Hugo prend en charge plusieurs types de mod√®les diff√©rents. La page d&rsquo;accueil est sp√©ciale car elle poss√®de son propre type de mod√®le et son propre fichier mod√®le. Le fichier, layouts/index.html, sert √† g√©n√©rer le HTML pour la page d&rsquo;accueil. La documentation de Hugo indique que c&rsquo;est le seul mod√®le requis, mais cela d√©pend. Le message d&rsquo;avertissement d&rsquo;Hugo montre qu&rsquo;il recherche trois mod√®les diff√©rents:</p>

<pre><code>WARN: 2014/09/29 Unable to locate layout: [index.html _default/list.html
                                            _default/single.html]
</code></pre>

<p>S&rsquo;il ne trouve aucun de ces derniers, il saute compl√®tement la cr√©ation de la page d&rsquo;accueil. Nous avons remarqu√© que lorsque nous avons construit le site sans avoir un th√®me install√©.</p>

<p>Lorsque Hugo a cr√©√© notre th√®me, il a cr√©√© un mod√®le de page d&rsquo;accueil vide. Maintenant, lorsque nous construisons le site, Hugo trouve le mod√®le et l&rsquo;utilise pour g√©n√©rer le HTML pour la page d&rsquo;accueil. Comme le fichier mod√®le est vide, le fichier HTML est √©galement vide. Si le mod√®le avait eu des r√®gles, Hugo les aurait utilis√© pour g√©n√©rer la page d&rsquo;accueil.</p>

<pre><code>$ find . -name index.html | xargs ls -l
-rw-r--r--  1 quoha  staff  0 Sep 29 20:21 ./public/index.html
-rw-r--r--  1 quoha  staff  0 Sep 29 17:31 ./themes/zafta/layouts/index.html
$
</code></pre>

<h4 id="la-magie-du-statique">La magie du statique</h4>

<p>Hugo fait deux choses lors de la g√©n√©ration du site. Il utilise des mod√®les pour transformer le contenu en HTML et copie des fichiers statiques dans le site. Contrairement au contenu, les fichiers statiques ne sont pas transform√©s. Ils sont copi√©s exactement comme ils sont.</p>

<p>Hugo suppose que votre site utilisera √† la fois CSS et JavaScript, de sorte qu&rsquo;il cr√©e des r√©pertoires sur votre th√®me pour les retenir. Rappelez-vous les philosophies ? Eh bien, la philosophie de Hugo est que vous allez stocker votre CSS dans un r√©pertoire nomm√© css/ et votre JavaScript dans un r√©pertoire nomm√© js/. Si vous n&rsquo;aimez pas cela, vous pouvez modifier les noms de r√©pertoire dans votre r√©pertoire de th√®me ou m√™me les supprimer compl√®tement. Hugo est assez agr√©able pour offrir son avis, puis bien se comporter si vous √™tes en d√©saccord.</p>

<pre><code>$ find themes/zafta -type d | xargs ls -ld
drwxr-xr-x  7 quoha  staff  238 Sep 29 17:38 themes/zafta
drwxr-xr-x  3 quoha  staff  102 Sep 29 17:31 themes/zafta/archetypes
drwxr-xr-x  5 quoha  staff  170 Sep 29 17:31 themes/zafta/layouts
drwxr-xr-x  4 quoha  staff  136 Sep 29 17:31 themes/zafta/layouts/_default
drwxr-xr-x  4 quoha  staff  136 Sep 29 17:31 themes/zafta/layouts/partials
drwxr-xr-x  4 quoha  staff  136 Sep 29 17:31 themes/zafta/static
drwxr-xr-x  2 quoha  staff   68 Sep 29 17:31 themes/zafta/static/css
drwxr-xr-x  2 quoha  staff   68 Sep 29 17:31 themes/zafta/static/js
$
</code></pre>

<h2 id="le-cycle-de-d√©veloppement-d-un-site">Le cycle de d√©veloppement d&rsquo;un site</h2>

<p>Lorsque vous travaillez sur un th√®me, vous modifiez le r√©pertoire du th√®me, reconstruisez le site et v√©rifiez vos modifications dans le navigateur. Hugo rend cela tr√®s simple:</p>

<ol>
<li>Purgez le r√©pertoire public/.</li>
<li>Ex√©cutez le serveur Web int√©gr√© en mode surveillance.</li>
<li>Ouvrez votre site dans un navigateur.</li>
<li>Mettre √† jour le th√®me.</li>
<li>Regardez la fen√™tre de votre navigateur pour voir les changements.</li>
<li>Revenez √† l&rsquo;√©tape 4.</li>
</ol>

<p>Je vais vous donner un conseil: ne jamais travailler sur un th√®me sur un site en production. Toujours travailler sur une copie de votre site. Effectuez des modifications sur votre th√®me, testez-les, puis copiez-les sur votre site. Pour plus de s√©curit√©, utilisez un outil comme Git pour garder un historique de r√©vision de votre contenu et de votre th√®me. Croyez-moi quand je dis qu&rsquo;il est trop facile de perdre vos changements.</p>

<p>Consultez le site Hugo principal pour obtenir de l&rsquo;information sur l&rsquo;utilisation de Git avec Hugo.</p>

<h3 id="purger-le-r√©pertoire-public">Purger le r√©pertoire public/</h3>

<p>Lors de la g√©n√©ration du site, Hugo va cr√©er de nouveaux fichiers et mettre √† jour les existants dans le r√©pertoire <code>public /</code>. Il ne supprimera pas les fichiers qui ne sont plus utilis√©s. Par exemple, les fichiers cr√©√©s dans le mauvais r√©pertoire ou avec le mauvais titre resteront. Si vous les laissez, vous pourriez les confondre plus tard. Je recommande de nettoyer votre site avant de le g√©n√©rer.</p>

<p>Remarque: Si vous utilisez un SSD, vous devez ignorer cela. L&rsquo;agitation sur un SSD peut √™tre co√ªteuse.</p>

<h3 id="l-option-watch-de-hugo">L&rsquo;option watch de Hugo</h3>

<p>L&rsquo;option &ldquo;<code>--watch</code>&rdquo; de Hugo va surveiller les changements dans le r√©pertoire content/ et les r√©pertoire de vos th√®me afin de reg√©n√©rer le site automatiquement.</p>

<h3 id="rchargement-en-direct">Rchargement en direct</h3>

<p>Le serveur web int√©gr√© de Hugo supporte les rechargements en direct. Lorsque qu&rsquo;une page est sauvegard√©e sur le serveur, le navigateur est amen√© √† rafra√Æchir la page. Habituellement, cela se produit avant que vous puissiez dire &ldquo;Woah, c&rsquo;est incroyable.&rdquo;</p>

<h3 id="commandes-de-d√©veloppement">Commandes de d√©veloppement</h3>

<p>Utilisez les commandes suivantes comme base de votre workflow.</p>

<pre><code>## Purger les anciens fichiers. Hugo recr√©era le r√©pertoire public.
##
$ rm -rf public
##
## Lancer Hugo en mode de surveillance
##
$ hugo server --watch --verbose
</code></pre>

<p>L&rsquo;exemple de sortie suivant montre que Hugo detecte une modification sur le mod√®le de la page d&rsquo;accueil. Apr√®s l&rsquo;avoir g√©n√©r√©e, le serveur web va automatiquement recharger la page. Je l&rsquo;ai dit pr√©c√©dement, c&rsquo;est incroyable.</p>

<pre><code>$ rm -rf public
$ hugo server --watch --verbose
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html]
0 draft content
0 future content
0 pages created
0 tags created
0 categories created
in 2 ms
Watching for changes in /Users/quoha/Sites/zafta/content
Serving pages from /Users/quoha/Sites/zafta/public
Web Server is available at http://localhost:1313
Press Ctrl+C to stop
INFO: 2014/09/29 File System Event: [&quot;/Users/quoha/Sites/zafta/themes/zafta/
                                        layouts/index.html&quot;: MODIFY|ATTRIB]
Change detected, rebuilding site

WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html]
0 draft content
0 future content
0 pages created
0 tags created
0 categories created
in 1 ms
</code></pre>

<h2 id="mettre-√†-jour-le-mod√®le-de-la-page-d-accueil">Mettre √† jour le mod√®le de la page d&rsquo;accueil</h2>

<p>La page d&rsquo;accueil est l&rsquo;une des quelques pages sp√©ciales que Hugo cr√©e automatiquement. Comme mentionn√© pr√©c√©demment, il recherche l&rsquo;un des trois fichiers dans le r√©pertoire de mise en page (layout/) du th√®me:</p>

<ol>
<li>index.html</li>
<li>_default/list.html</li>
<li>_default/single.html</li>
</ol>

<p>Nous pourrions mettre √† jour l&rsquo;un des mod√®les par d√©faut, mais une bonne d√©cision de conception est de mettre √† jour le mod√®le le plus sp√©cifique disponible. Ce n&rsquo;est pas une r√®gle difficile et rapide (en fait, nous ne la respecterons pas plusieurs fois dans ce tutoriel), mais c&rsquo;est une bonne g√©n√©ralisation.</p>

<h3 id="cr√©er-une-page-d-accueil-statique">Cr√©er une page d&rsquo;accueil statique</h3>

<p>√Ä l&rsquo;heure actuelle, cette page est vide car nous n&rsquo;avons aucun contenu et nous n&rsquo;avons aucune logique dans le mod√®le. Changeons cela en ajoutant du texte au mod√®le.</p>

<pre><code>$ vi themes/zafta/layouts/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
  &lt;p&gt;hugo dit bonjour!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
:wq

$
</code></pre>

<p>G√©n√©rez le site web et v√©rifiez les r√©sultats.</p>

<pre><code>$ hugo --verbose
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html]
0 draft content
0 future content
0 pages created
0 tags created
0 categories created
in 2 ms

$ find public -type f -name '*.html' | xargs ls -l
-rw-r--r--  1 quoha  staff  78 Sep 29 21:26 public/index.html

$ cat public/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
  &lt;p&gt;hugo dit bonjour!&lt;/p&gt;
&lt;/html&gt;
</code></pre>

<h4 id="rechargement-en-direct">Rechargement en direct</h4>

<p>Note: Si vous avez lanc√© le serveur avec l&rsquo;option <code>--watch</code>, vous verrez un contenu diff√©rent dans le fichier :</p>

<pre><code>$ cat public/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
  &lt;p&gt;hugo dit bonjour!&lt;/p&gt;
&lt;script&gt;document.write('&lt;script src=&quot;http://'
        + (location.host || 'localhost').split(':')[0]
    + ':1313/livereload.js?mindelay=10&quot;&gt;&lt;/'
        + 'script&gt;')&lt;/script&gt;&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Lorsque vous utilisez <code>--watch</code>, le script de rechargement automatique est ajout√© par Hugo. Renseignez-vous dans la documentation avec les termes <em>live reload</em> pour voir qu&rsquo;est-ce qu&rsquo;il fait et comment le d√©sactiver.</p>

<h3 id="cr√©er-une-page-d-accueil-dynamique">Cr√©er une page d&rsquo;accueil &ldquo;dynamique&rdquo;</h3>

<p>&ldquo;Une page d&rsquo;accueil dynamique ?&rdquo; Hugo est un g√©n√©rateur de site statique, cela para√Æt √©trange √† dire. Je veux dire que la page d&rsquo;accueil refl√®te le contenu du site chaque fois que Hugo le reg√©n√®re. Nous allons utiliser l&rsquo;it√©ration dans le mod√®le pour faire cela.</p>

<h4 id="cr√©er-un-nouvel-article">Cr√©er un nouvel article</h4>

<p>Maintenant que nous avons la page d&rsquo;accueil g√©n√©r√©e avec un contenu statique, ajoutons du contenu au site. Nous allons lister ces articles sur la page d&rsquo;accueil et sur leurs propre page √©galement.</p>

<p>Hugo a une commande pour g√©n√©rer un squelette d&rsquo;article, comme il le fait pour les sites et les th√®mes.</p>

<pre><code>$ hugo --verbose new post/permier.md
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 attempting to create  post/premier.md of post
INFO: 2014/09/29 curpath: /Users/quoha/Sites/zafta/themes/zafta/archetypes/
                            default.md
ERROR: 2014/09/29 Unable to Cast &lt;nil&gt; to map[string]interface{}

$
</code></pre>

<p>C&rsquo;est pas bon, n&rsquo;est-ce pas ?</p>

<p>La commande &ldquo;new&rdquo; utilise un arch√©type pour cr√©er le fichier de l&rsquo;article. Hugo cr√©e un fichier d&rsquo;arch√©type vide par d√©fault, mais cela provoque une erreur lorsqu&rsquo;il y a un th√®me. Pour moi, la solution √©tait de cr√©er un fichier d&rsquo;arch√©type sp√©cifiquement pour le type article.</p>

<pre><code>$ vi themes/zafta/archetypes/post.md
+++
Description = &quot;&quot;
Tags = []
Categories = []
+++
:wq

$ find themes/zafta/archetypes -type f | xargs ls -l
-rw-r--r--  1 quoha  staff   0 Sep 29 21:53 themes/zafta/archetypes/default.md
-rw-r--r--  1 quoha  staff  51 Sep 29 21:54 themes/zafta/archetypes/post.md

$ hugo --verbose new post/premier.md
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 attempting to create  post/premier.md of post
INFO: 2014/09/29 curpath: /Users/quoha/Sites/zafta/themes/zafta/archetypes/
                            post.md
INFO: 2014/09/29 creating /Users/quoha/Sites/zafta/content/post/premier.md
/Users/quoha/Sites/zafta/content/post/premier.md created

$ hugo --verbose new post/second.md
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 attempting to create  post/second.md of post
INFO: 2014/09/29 curpath: /Users/quoha/Sites/zafta/themes/zafta/archetypes/
                            post.md
INFO: 2014/09/29 creating /Users/quoha/Sites/zafta/content/post/second.md
/Users/quoha/Sites/zafta/content/post/second.md created

$ ls -l content/post
total 16
-rw-r--r--  1 quoha  staff  104 Sep 29 21:54 premier.md
-rw-r--r--  1 quoha  staff  105 Sep 29 21:57 second.md

$ cat content/post/premier.md
+++
Categories = []
Description = &quot;&quot;
Tags = []
date = &quot;2014-09-29T21:54:53-05:00&quot;
title = &quot;premier&quot;

+++
Mon permier article

$ cat content/post/second.md
+++
Categories = []
Description = &quot;&quot;
Tags = []
date = &quot;2014-09-29T21:57:09-05:00&quot;
title = &quot;second&quot;

+++
Mon second article

$
</code></pre>

<p>G√©n√©rez le site web et v√©rifiez le r√©sultat.</p>

<pre><code>$ rm -rf public
$ hugo --verbose
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 found taxonomies: map[string]string{&quot;category&quot;:&quot;categories&quot;,
                                                    &quot;tag&quot;:&quot;tags&quot;}
WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html]
0 draft content
0 future content
2 pages created
0 tags created
0 categories created
in 4 ms
$
</code></pre>

<p>La sortie annonce qu&rsquo;il a cr√©√© 2 pages. Ce sont nos nouveaux articles:</p>

<pre><code>$ find public -type f -name '*.html' | xargs ls -l
-rw-r--r--  1 quoha  staff  78 Sep 29 22:13 public/index.html
-rw-r--r--  1 quoha  staff   0 Sep 29 22:13 public/post/premier/index.html
-rw-r--r--  1 quoha  staff   0 Sep 29 22:13 public/post/index.html
-rw-r--r--  1 quoha  staff   0 Sep 29 22:13 public/post/second/index.html
$
</code></pre>

<p>Les nouveaux fichiers sont vides parce que les mod√®les utilis√© pour g√©n√©rer le contenu sont vides. La page d&rsquo;accueil n&rsquo;affiche pas non plus le nouveau contenu. Nous devons modifier les mod√®les pour ajouter les articles.</p>

<h3 id="mod√®les-de-liste-et-simples">Mod√®les de liste et simples</h3>

<p>Avec Hugo, nous avons trois principaux types de mod√®les. Il y a le mod√®le de page d&rsquo;accueil que nous avons √©dit√© pr√©c√©dement. Il est utilis√© seulement pour la page d&rsquo;accueil. Nous avons √©galement le mod√®les simple qui sont utilis√©s pour g√©n√©rer du contenu simple. Et nous avons les mod√®les de liste qui sont utilis√©s pour grouper plusieurs contenus.</p>

<p>D&rsquo;une mani√®re g√©n√©rale, les mod√®les de liste sont nomm√©s &ldquo;list.html&rdquo; et les mod√®les simples sont nomm√©s &ldquo;single.html&rdquo;.</p>

<h3 id="ajouter-du-contenu-sur-la-page-d-accueil">Ajouter du contenu sur la page d&rsquo;accueil</h3>

<p>La page d&rsquo;accueil contiendra une liste d&rsquo;articles. Modifions son mod√®le pour ajouter les articles que nous venons de cr√©er. La logique dans le mod√®le s&rsquo;√©xecutera chaque fois que nous g√©n√®rerons notre site.</p>

<pre><code>$ vi themes/zafta/layouts/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
  {{ range first 10 .Data.Pages }}
    &lt;h1&gt;{{ .Title }}&lt;/h1&gt;
  {{ end }}
&lt;/body&gt;
&lt;/html&gt;
:wq

$
</code></pre>

<p>Hugo utilise le moteur de mod√®le de Go. Ce moteur analyse les fichiers de mod√®le pour y trouver des commandes qui sont sp√©cifi√©es entre &ldquo;{{&rdquo; et &ldquo;}}&rdquo;. Dans notre mod√®le, les commandes sont:</p>

<ol>
<li>range</li>
<li>.Title</li>
<li>end</li>
</ol>

<p>La commande &ldquo;range&rdquo; est un it√©rateur. Nous allons l&rsquo;utiliser pour parcourir les dix premi√®res pages. Chaque fichier HTML que Hugo cr√©e est trait√© comme une page. Donc, boucler autour de la liste des pages examinera chaque fichier qui a √©t√© cr√©e.</p>

<p>La commande &ldquo;.Title&rdquo; affiche la valeur de la variable &ldquo;title&rdquo;. Hugo la r√©cup√®re depuis la section liminaire dans la fichier Markdown.</p>

<p>La commande &ldquo;end&rdquo; signale la fin de l&rsquo;it√©ration. Le moteur retourne en haut de l&rsquo;it√©ration lorsque qu&rsquo;il trouve &ldquo;end&rdquo;. Tout ce qui est entre &ldquo;range&rdquo; et &ldquo;end&rdquo; est √©valu√© chaque fois que le moteur passe par l&rsquo;it√©ration. Dans ce fichier, cela va afficher le titre des dix premi√®res pages dans la sortie comme titre de niveau 1.</p>

<p>Il est utile de se rappeler de quelques variables, comme .Data, sont cr√©√©es avant tout fichier de sortie. Hugo charge tout les fichiers de contenu dans la variable et donne une chance au mod√®le de proc√®der avant de cr√©er les fichiers HTML.</p>

<p>G√©n√©rez le site web et v√©rifiez le r√©sultat.</p>

<pre><code>$ rm -rf public
$ hugo --verbose
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 found taxonomies: map[string]string{&quot;tag&quot;:&quot;tags&quot;,
                                                    &quot;category&quot;:&quot;categories&quot;}
WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html]
0 draft content
0 future content
2 pages created
0 tags created
0 categories created
in 4 ms
$ find public -type f -name '*.html' | xargs ls -l
-rw-r--r--  1 quoha  staff  94 Sep 29 22:23 public/index.html
-rw-r--r--  1 quoha  staff   0 Sep 29 22:23 public/post/premier/index.html
-rw-r--r--  1 quoha  staff   0 Sep 29 22:23 public/post/index.html
-rw-r--r--  1 quoha  staff   0 Sep 29 22:23 public/post/second/index.html
$ cat public/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

    &lt;h1&gt;second&lt;/h1&gt;

    &lt;h1&gt;premier&lt;/h1&gt;

&lt;/body&gt;
&lt;/html&gt;
$
</code></pre>

<p>F√©licitation, la page d&rsquo;accueil affiche le titre des deux articles. Les articles eux-m√™me sont toujours vide, mais prenez un moment pour appr√©cier ce que nous avons effectu√©. Votre mod√®le g√©n√®re maintenant des sorties dynamiquement. Croyez-le ou non, en ins√©rant la commande &ldquo;range&rdquo; √† l&rsquo;int√©rieur de ces accolades, vous avez appris tout ce que vous devez savoir pour cr√©er un th√®me. Tout ce qu&rsquo;il reste vraiment est de comprendre quel mod√®le va √™tre utilis√© pour g√©n√©rer chaque fichier de contenu et de devenir familier avec les commandes du moteur de mod√®les.</p>

<p>Et, si c&rsquo;est enti√®rement vrai, ce tutoriel devrai √™tre plus court. Il y a quelques choses √† savoir qui rendrons la cr√©ation de nouveaux th√®mes plus facile. Ne vous inqui√©tez pas, ca va bien se passer.</p>

<h3 id="ajouter-du-contenu-√†-l-article">Ajouter du contenu √† l&rsquo;article</h3>

<p>Nous travaillons avec des articles, qui sont stock√©s dans le r√©pertoire content/post/. Cela signifie que leur section est &ldquo;post&rdquo; (et si nous n&rsquo;avons rien fait de travers, leur type est √©galement &ldquo;post&rdquo;).</p>

<p>Hugo utilise la section et le type pour d√©finir le mod√®le pour chaque partie du contenu. Hugo va d&rsquo;abord chercher un mod√®le qui correspond √† la section ou au type. S&rsquo;il n&rsquo;arrive pas √† en trouver un, il va alors chercher dans le r√©pertoire _default/. Il y a quelques cas que nous allons couvrir lorsque nous travaillerons avec les cat√©gories et les tags, mais pour le moment, nous supposerons que Hugo va essayer post/single.html, puis _default/single.html.</p>

<p>Maintenant que nous connaissons la r√®gle de rechercher, regardons ce qui est mis √† notre disposition actuellement:</p>

<pre><code>$ find themes/zafta -name single.html | xargs ls -l
-rw-r--r--  1 quoha  staff  132 Sep 29 17:31 themes/zafta/layouts/_default/
                                                single.html
</code></pre>

<p>Nous pourrions cr√©er un nouveau mod√®le, post/single.html, ou modifier le mod√®le par d√©faut. Comme nous n&rsquo;utilisons actuellement aucun autre type de contenu, commen√ßons par mettre √† jour le mod√®le par d√©faut.</p>

<p>Sovenez-vous, tout contenu pour lequel nous n&rsquo;avons pas cr√©√© de mod√®le utilisera ce mod√®le. Cela peut √™tre bien ou mauvais. Mauvais parce que je sais que nous allons ajouter d&rsquo;autres types de contenu et nous allons devoir annuler certaines des modifications que nous avons effectu√©es. Mais c&rsquo;est bien parce que nous allons pouvoir voir directement les r√©sultats. C&rsquo;est √©galement bien de d√©marrer ici car nous pouvons commencer √† faire la mise en place basique du site. Comme nous ajouterons plus de contenu, nous remanierons ce fichier et d√©placerons la logique ailleur. Hugo fait cela plut√¥t bien, donc nous accepterons le co√ªt et proc√®derons.</p>

<h4 id="mise-√†-jour-du-mod√®le">Mise √† jour du mod√®le</h4>

<pre><code>$ vi themes/zafta/layouts/_default/single.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;{{ .Title }}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;{{ .Title }}&lt;/h1&gt;
  {{ .Content }}
&lt;/body&gt;
&lt;/html&gt;
:wq

$
</code></pre>

<p>G√©n√©rez le site web et v√©rifiez le r√©sultat.</p>

<pre><code>$ rm -rf public
$ hugo --verbose
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 found taxonomies: map[string]string{&quot;tag&quot;:&quot;tags&quot;,
                                                    &quot;category&quot;:&quot;categories&quot;}
WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html]
0 draft content
0 future content
2 pages created
0 tags created
0 categories created
in 4 ms

$ find public -type f -name '*.html' | xargs ls -l
-rw-r--r--  1 quoha  staff   94 Sep 29 22:40 public/index.html
-rw-r--r--  1 quoha  staff  125 Sep 29 22:40 public/post/premier/index.html
-rw-r--r--  1 quoha  staff    0 Sep 29 22:40 public/post/index.html
-rw-r--r--  1 quoha  staff  128 Sep 29 22:40 public/post/second/index.html

$ cat public/post/premier/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;premier&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;premier&lt;/h1&gt;
  &lt;p&gt;Mon premier article&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;

$ cat public/post/second/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;second&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;second&lt;/h1&gt;
  &lt;p&gt;Mon second article&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
$
</code></pre>

<p>Notez que les articles ont maintenant un contenu. Vous pouvez aller sur localhost:1313/post/premier pour v√©rifier.</p>

<h3 id="lier-du-contenu">Lier du contenu</h3>

<p>Les articles sont sur la page d&rsquo;accueil. Ajoutons un lien d&rsquo;ici vers l&rsquo;article. Comme cela se trouve sur la page d&rsquo;accueil, nous allons mettre √† jour le mod√®le.</p>

<pre><code>$ vi themes/zafta/layouts/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
  {{ range first 10 .Data.Pages }}
    &lt;h1&gt;&lt;a href=&quot;{{ .Permalink }}&quot;&gt;{{ .Title }}&lt;/a&gt;&lt;/h1&gt;
  {{ end }}
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>G√©n√©rez le site web et v√©rifiez le r√©sultat.</p>

<pre><code>$ rm -rf public
$ hugo --verbose
INFO: 2014/09/29 Using config file: /Users/quoha/Sites/zafta/config.toml
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/themes/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 syncing from /Users/quoha/Sites/zafta/static/ to
    /Users/quoha/Sites/zafta/public/
INFO: 2014/09/29 found taxonomies: map[string]string{&quot;tag&quot;:&quot;tags&quot;,
                                                    &quot;category&quot;:&quot;categories&quot;}
WARN: 2014/09/29 Unable to locate layout: [404.html theme/404.html]
0 draft content
0 future content
2 pages created
0 tags created
0 categories created
in 4 ms

$ find public -type f -name '*.html' | xargs ls -l
-rw-r--r--  1 quoha  staff  149 Sep 29 22:44 public/index.html
-rw-r--r--  1 quoha  staff  125 Sep 29 22:44 public/post/premier/index.html
-rw-r--r--  1 quoha  staff    0 Sep 29 22:44 public/post/index.html
-rw-r--r--  1 quoha  staff  128 Sep 29 22:44 public/post/second/index.html

$ cat public/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;

    &lt;h1&gt;&lt;a href=&quot;/post/second/&quot;&gt;second&lt;/a&gt;&lt;/h1&gt;

    &lt;h1&gt;&lt;a href=&quot;/post/premier/&quot;&gt;premier&lt;/a&gt;&lt;/h1&gt;

&lt;/body&gt;
&lt;/html&gt;

$
</code></pre>

<h3 id="cr√©er-une-liste-d-articles">Cr√©er une liste d&rsquo;articles</h3>

<p>Nous avons les articles affich√©s sur la page d&rsquo;accueil et sur leur propre page. Nous avons √©galement un fichier public/post/index.html qui est vide. Faisons en sorte qu&rsquo;il liste tous les articles (pas seulement les dix premiers).</p>

<p>Nous devons d√©cider quel mod√®le mettre √† jour. Nous allons faire une liste, donc, cela doit √™tre un mod√®le de liste. Regardons quels mod√®les de liste sont disponibles.</p>

<pre><code>$ find themes/zafta -name list.html | xargs ls -l
-rw-r--r--  1 quoha  staff  0 Sep 29 17:31 themes/zafta/layouts/_default/
                                            list.html
</code></pre>

<p>Comme pour l&rsquo;article seul, nous devons d√©cider d&rsquo;√©diter _default/list.html ou de cr√©er post/list.html. Nous n&rsquo;avons toujours pas plusieurs types de contenu, alors restons coh√©rant et √©ditons le mod√®le de liste par d√©faut.</p>

<h2 id="cr√©ation-d-une-page-de-haut-niveau">Cr√©ation d&rsquo;une page de haut niveau</h2>

<p>Ajoutons une page &ldquo;√† propos&rdquo; et affichons la au plus haut niveau (√† l&rsquo;oppos√© d&rsquo;un sous-niveau comme nous avons fait pour les articles).</p>

<p>La valeur par d√©faut de Hugo consiste √† utiliser la structure du r√©pertoire content/ pour guider l&rsquo;emplacement du HTML g√©n√©r√© dans le r√©pertoire public/. V√©rifions cela en cr√©ant une page &ldquo;√† propos&rdquo; (about dans l&rsquo;exemple) au plus haut niveau:</p>

<pre><code>$ vi content/about.md
+++
title = &quot;about&quot;
description = &quot;about this site&quot;
date = &quot;2014-09-27&quot;
slug = &quot;about time&quot;
+++

## about us

i'm speechless
:wq
</code></pre>

<p>G√©n√©rez le site web et v√©rifiez le r√©sultat.</p>

<pre><code>$ find public -name '*.html' | xargs ls -l
-rw-rw-r--  1 mdhender  staff   334 Sep 27 15:08 public/about-time/index.html
-rw-rw-r--  1 mdhender  staff   527 Sep 27 15:08 public/index.html
-rw-rw-r--  1 mdhender  staff   358 Sep 27 15:08 public/post/premier-post/
                                                    index.html
-rw-rw-r--  1 mdhender  staff     0 Sep 27 15:08 public/post/index.html
-rw-rw-r--  1 mdhender  staff   342 Sep 27 15:08 public/post/second-post/
                                                    index.html
</code></pre>

<p>Notez que la page n&rsquo;a pas √©t√© cr√©e au plus haut niveau. √áa a cr√©√© un sous r√©pertoire nomm√© &lsquo;about-time&rsquo;. Ce nom vient de notre slug. Hugo va l&rsquo;utiliser pour nommer les contenu g√©n√©r√©s.</p>

<p>Autre chose : regardez la page d&rsquo;accueil.</p>

<pre><code>$ cat public/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
    &lt;h1&gt;&lt;a href=&quot;http://localhost:1313/post/theme/&quot;&gt;
        creating a new theme&lt;/a&gt;&lt;/h1&gt;
    &lt;h1&gt;&lt;a href=&quot;http://localhost:1313/about-time/&quot;&gt;about&lt;/a&gt;&lt;/h1&gt;
    &lt;h1&gt;&lt;a href=&quot;http://localhost:1313/post/second-post/&quot;&gt;second&lt;/a&gt;&lt;/h1&gt;
    &lt;h1&gt;&lt;a href=&quot;http://localhost:1313/post/premier-post/&quot;&gt;first&lt;/a&gt;&lt;/h1&gt;
&lt;script&gt;document.write('&lt;script src=&quot;http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10&quot;&gt;&lt;/'
        + 'script&gt;')&lt;/script&gt;&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>Notez que le liens vers &ldquo;about&rdquo; est list√© avec les articles. Ce n&rsquo;√©tait l&rsquo;effet d√©sire, corrigeons donc cela d&rsquo;abord.</p>

<pre><code>$ vi themes/zafta/layouts/index.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;body&gt;
  &lt;h1&gt;articles&lt;/h1&gt;
  {{ range first 10 .Data.Pages }}
    {{ if eq .Type &quot;post&quot;}}
      &lt;h2&gt;&lt;a href=&quot;{{ .Permalink }}&quot;&gt;{{ .Title }}&lt;/a&gt;&lt;/h2&gt;
    {{ end }}
  {{ end }}

  &lt;h1&gt;pages&lt;/h1&gt;
  {{ range .Data.Pages }}
    {{ if eq .Type &quot;page&quot; }}
      &lt;h2&gt;&lt;a href=&quot;{{ .Permalink }}&quot;&gt;{{ .Title }}&lt;/a&gt;&lt;/h2&gt;
    {{ end }}
  {{ end }}
&lt;/body&gt;
&lt;/html&gt;
:wq
</code></pre>

<p>G√©n√©rez le site web et v√©rifiez le r√©sultat. La page d&rsquo;accueil a deux sections, articles et pages, et chaque section contient le bon ensemble de lien</p>

<p>Mais la page &ldquo;√† propos&rdquo; est toujours rendue dans about-time/index.html.</p>

<pre><code>$ find public -name '*.html' | xargs ls -l
-rw-rw-r--  1 mdhender  staff    334 Sep 27 15:33 public/about-time/index.html
-rw-rw-r--  1 mdhender  staff    645 Sep 27 15:33 public/index.html
-rw-rw-r--  1 mdhender  staff    358 Sep 27 15:33 public/post/premier-post/
                                                    index.html
-rw-rw-r--  1 mdhender  staff      0 Sep 27 15:33 public/post/index.html
-rw-rw-r--  1 mdhender  staff    342 Sep 27 15:33 public/post/second-post/
                                                    index.html
</code></pre>

<p>Sachant que Hugo utilise le slug pour g√©n√©rer les noms des fichiers, la solution la plus simple serait de changer le slug. Utilisons la mani√®re forte et changeons le lien permanent dans la configuration.</p>

<pre><code>$ vi config.toml
[permalinks]
	page = &quot;/:title/&quot;
	about = &quot;/:filename/&quot;
</code></pre>

<p>G√©n√©rez le site web et v√©rifiez que cela ne fonctionne pas. Hugo laisse le slug ou l&rsquo;URL outrepasser l&rsquo;option des liens permanents dans le fichier de configuration. Commentez le slug dans content/about.md, puis g√©n√©rez le site web pour qu&rsquo;elle soit g√©n√©r√©e au bon endroit.</p>

<h2 id="partager-des-mod√®les">Partager des mod√®les</h2>

<p>Si vous avez suivi, vous avez s√ªrement remarqu√© que les articles ont un titre dans le navigateur et pas la page d&rsquo;accueil. C&rsquo;est parce que nous n&rsquo;avons pas mis de titre dans le mod√®le de la page d&rsquo;accueil (layout/index.html). C&rsquo;est quelque chose de facile, mais utilisons une option diff√©rente.</p>

<p>Nous pouvons placer les parties communes dans un mod√®le partag√© qui sera stock√© dans le r√©pertoire themes/zafta/layouts/partials/.</p>

<h3 id="cr√©ation-du-mod√®le-partiel-de-l-ent√™te-et-du-pied-de-page">Cr√©ation du mod√®le partiel de l&rsquo;ent√™te et du pied de page</h3>

<p>Avec Hugo, un mod√®le partiel est un mod√®le embelli. Normalement, un mod√®le fait r√©f√©rence √† un chemin sp√©cifique. Les mod√®les partiels sont diff√©rents. Hugo les recherche le long d&rsquo;un chemin de recherche d√©fini. Cela permet aux utilisateurs finaux de remplacer plus facilement la pr√©sentation du th√®me.</p>

<pre><code>$ vi themes/zafta/layouts/partials/header.html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;{{ .Title }}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
:wq

$ vi themes/zafta/layouts/partials/footer.html
&lt;/body&gt;
&lt;/html&gt;
:wq
</code></pre>

<h3 id="modification-du-mod√®le-de-page-d-accueil-pour-utiliser-les-mod√®les-partiels">Modification du mod√®le de page d&rsquo;accueil pour utiliser les mod√®les partiels</h3>

<p>La diff√©rence notable entre un appel d&rsquo;un mod√®le et celui d&rsquo;un mod√®le partiel est le manque de chemin:</p>

<pre><code>{{ template &quot;theme/partials/header.html&quot; . }}
</code></pre>

<p>versus</p>

<pre><code>{{ partial &quot;header.html&quot; . }}
</code></pre>

<p>Les deux passent dans le contexte.</p>

<p>Changeons le mod√®le de la page d&rsquo;accueil pour utiliser ces nouveaux mod√®les partiels.</p>

<pre><code>$ vi themes/zafta/layouts/index.html
{{ partial &quot;header.html&quot; . }}

  &lt;h1&gt;articles&lt;/h1&gt;
  {{ range first 10 .Data.Pages }}
    {{ if eq .Type &quot;post&quot;}}
      &lt;h2&gt;&lt;a href=&quot;{{ .Permalink }}&quot;&gt;{{ .Title }}&lt;/a&gt;&lt;/h2&gt;
    {{ end }}
  {{ end }}

  &lt;h1&gt;pages&lt;/h1&gt;
  {{ range .Data.Pages }}
    {{ if or (eq .Type &quot;page&quot;) (eq .Type &quot;about&quot;) }}
      &lt;h2&gt;&lt;a href=&quot;{{ .Permalink }}&quot;&gt;{{ .Type }} -
        {{ .Title }} - {{ .RelPermalink }}&lt;/a&gt;&lt;/h2&gt;
    {{ end }}
  {{ end }}

{{ partial &quot;footer.html&quot; . }}
:wq
</code></pre>

<p>G√©n√©rez le site web et v√©rifiez le r√©sultat. Le titre sur la page d&rsquo;accueil est maintenant &ldquo;your title here&rdquo;, qui de la variable &ldquo;title&rdquo; dans la fichier config.toml.</p>

<h3 id="modification-du-mod√®le-simple-par-d√©faut-pour-utiliser-les-mod√®les-partiels">Modification du mod√®le simple par d√©faut pour utiliser les mod√®les partiels</h3>

<pre><code>$ vi themes/zafta/layouts/_default/single.html
{{ partial &quot;header.html&quot; . }}

  &lt;h1&gt;{{ .Title }}&lt;/h1&gt;
  {{ .Content }}

{{ partial &quot;footer.html&quot; . }}
:wq
</code></pre>

<p>G√©n√©rez le site web et v√©rifiez le r√©sultat. Le titre sur les articles et la page &ldquo;a propos&rdquo; devrait tout les deux refl√©ter la valeur pr√©sente dans le fichier markdown.</p>

<h2 id="ajouter-la-date-de-publication-des-articles">Ajouter la &ldquo;Date de publication&rdquo; des articles</h2>

<p>Il est commun de voir la date √† laquelle un article a √©t√© √©crit ou publi√©, donc ajoutons cela. La section liminaire de notre article poss√®de une variable nomm√©e &ldquo;date&rdquo;. C&rsquo;est g√©n√©ralement la date de la cr√©ation du contenu, mais supposons que c&rsquo;est la valeur que nous souhaitons afficher.</p>

<h3 id="ajouter-la-date-de-publication-au-mod√®le">Ajouter la &ldquo;Date de publication&rdquo; au mod√®le</h3>

<p>Nous allons commencer par modifier le mod√®le utilis√© pour rendre les articles. Le code du mod√®le ressemblera √† cela:</p>

<pre><code>{{ .Date.Format &quot;Mon, Jan 2, 2006&quot; }}
</code></pre>

<p>Les articles utilisent le mod√®le simple par d√©faut, donc nous modifierons ce fichier.</p>

<pre><code>$ vi themes/zafta/layouts/_default/single.html
{{ partial &quot;header.html&quot; . }}

  &lt;h1&gt;{{ .Title }}&lt;/h1&gt;
  &lt;h2&gt;{{ .Date.Format &quot;Mon, Jan 2, 2006&quot; }}&lt;/h2&gt;
  {{ .Content }}

{{ partial &quot;footer.html&quot; . }}
:wq
</code></pre>

<p>G√©n√©rez le site web et v√©rifiez le r√©sultat. Les articles ont maintenant la date affich√©. Mais il y a un probl√®me, la page &ldquo;a propos&rdquo; a √©galement la date d&rsquo;affich√©e.</p>

<p>Comme d&rsquo;habiture, il y a diff√©rent moyens d&rsquo;afficher la date seulement sur les articles. Nous pourrions utiliser un &ldquo;if&rdquo; comme nous l&rsquo;avons fait sur la page d&rsquo;accueil. Une autre m√©thode serait de cr√©er un mod√®le s√©parer pour les articles.</p>

<p>La solution du &ldquo;if&rdquo; fonctionne pour les site n&rsquo;ayant que quelques types de contenu. Il s&rsquo;harmonise avec le principe du &ldquo;code pour aujourd&rsquo;hui&rdquo;, aussi.</p>

<p>Admettons que nous avons rendu notre site tellement complexe que nous estimons qu&rsquo;il faut cr√©er un nouveau type de mod√®le. En langage Hugo, nous allons cr√©er un mod√®le de section.</p>

<p>Restaurons le mod√®le simple par d√©faut avant d&rsquo;oublier.</p>

<pre><code>$ mkdir themes/zafta/layouts/post
$ vi themes/zafta/layouts/_default/single.html
{{ partial &quot;header.html&quot; . }}

  &lt;h1&gt;{{ .Title }}&lt;/h1&gt;
  {{ .Content }}

{{ partial &quot;footer.html&quot; . }}
:wq
</code></pre>

<p>Maintenant, nous allons modifier le mod√®le simple des articles. Si vous vous souvenez des r√®gles d&rsquo;Hugo, le moteur de mod√®les va utiliser cette version √† la place de celle par d√©faut.</p>

<pre><code>$ vi themes/zafta/layouts/post/single.html
{{ partial &quot;header.html&quot; . }}

  &lt;h1&gt;{{ .Title }}&lt;/h1&gt;
  &lt;h2&gt;{{ .Date.Format &quot;Mon, Jan 2, 2006&quot; }}&lt;/h2&gt;
  {{ .Content }}

{{ partial &quot;footer.html&quot; . }}
:wq

</code></pre>

<p>Notez que nous retirons la logique de la date dans le mod√®le par d√©faut et que nous la pla√ßons dans le mod√®le des articles. G√©n√©rez le site web et v√©rifiez le r√©sultat. Les articles ont leur dates et la page &ldquo;a propos&rdquo; non.</p>

<h3 id="ne-r√©p√®tez-pas-cela-vous-m√™me">Ne r√©p√®tez pas cela vous-m√™me</h3>

<p>DRY (Don&rsquo;t Repeat Yourself) est un bon objectif de conception et Hugo fait du bon boulot pour supporter cette id√©e. Une partie de l&rsquo;art du bon mod√®le est de savoir quand il faut ajouter un nouveau mod√®le ou quand il faut modifier un existant. Avant de saisir compl√©tement ce principe, faites vous √† l&rsquo;id√©e que vous allez devoir faire de la refactorisation. Hugo rend cela facile et rapide, il est donc pr√©f√©rable de diviser un mod√®le.</p>
]]></content>
        </item>
        
        <item>
            <title>D√©buter avec Hugo</title>
            <link>/fr/posts/2014/04/d%C3%A9buter-avec-hugo/</link>
            <pubDate>Wed, 02 Apr 2014 00:00:00 +0000</pubDate>
            
            <guid>/fr/posts/2014/04/d%C3%A9buter-avec-hugo/</guid>
            <description>&lt;h2 id=&#34;√©tape-1-installer-hugo&#34;&gt;√âtape 1. Installer Hugo&lt;/h2&gt;

&lt;p&gt;Allez sur la page de t√©l√©chargements de
&lt;a href=&#34;https://github.com/spf13/hugo/releases&#34; target=&#34;_blank&#34;&gt;hugo&lt;/a&gt; et t√©l√©chargez la version
appropri√©e √† votre syst√®me d&amp;rsquo;exploitation et votre architecture.&lt;/p&gt;

&lt;p&gt;Sauvegardez le fichier t√©l√©charg√© √† un endroit pr√©cis, afin de l&amp;rsquo;utiliser dans
l&amp;rsquo;√©tape suivante.&lt;/p&gt;

&lt;p&gt;Des informations plus compl√®tes sont disponibles sur la page
&lt;a href=&#34;/overview/installing/&#34;&gt;installing hugo&lt;/a&gt;&lt;/p&gt;</description>
            <content type="html"><![CDATA[<h2 id="√©tape-1-installer-hugo">√âtape 1. Installer Hugo</h2>

<p>Allez sur la page de t√©l√©chargements de
<a href="https://github.com/spf13/hugo/releases" target="_blank">hugo</a> et t√©l√©chargez la version
appropri√©e √† votre syst√®me d&rsquo;exploitation et votre architecture.</p>

<p>Sauvegardez le fichier t√©l√©charg√© √† un endroit pr√©cis, afin de l&rsquo;utiliser dans
l&rsquo;√©tape suivante.</p>

<p>Des informations plus compl√®tes sont disponibles sur la page
<a href="/overview/installing/">installing hugo</a></p>

<h2 id="√©tape-2-compilez-la-documentation">√âtape 2. Compilez la documentation</h2>

<p>Hugo poss√®de son propre site d&rsquo;exemple qui se trouve √™tre √©galement le site que
vous lisez actuellement.</p>

<p>Suivez les instructions suivante :</p>

<ol>
<li>Clonez le <a href="http://github.com/spf13/hugo" target="_blank">d√©p√¥t de hugo</a></li>
<li>Allez dans ce d√©p√¥t</li>
<li>Lancez Hugo en mode serveur et compilez la documentation</li>
<li>Ouvrez votre navigateur sur <a href="http://localhost:1313" target="_blank">http://localhost:1313</a></li>
</ol>

<p>Voici les commandes g√©n√©riques correspondantes :</p>

<pre><code>git clone https://github.com/spf13/hugo
cd hugo
/chemin/ou/vous/avez/installe/hugo server --source=./docs
&gt; 29 pages created
&gt; 0 tags index created
&gt; in 27 ms
&gt; Web Server is available at http://localhost:1313
&gt; Press ctrl+c to stop
</code></pre>

<p>Lorsque vous avez cela, continuez le reste de ce guide sur votre version locale.</p>

<h2 id="√©tape-3-changer-le-site-de-documentation">√âtape 3. Changer le site de documentation</h2>

<p>Arr√™tez le processus de Hugo en pressant ctrl+c.</p>

<p>Maintenant, nous allons relancer hugo, mais cette fois avec Hugo en mode de
surveillance.</p>

<pre><code>/chemin/vers/hugo/de/l-etape/1/hugo server --source=./docs --watch
&gt; 29 pages created
&gt; 0 tags index created
&gt; in 27 ms
&gt; Web Server is available at http://localhost:1313
&gt; Watching for changes in /Users/spf13/Code/hugo/docs/content
&gt; Press ctrl+c to stop
</code></pre>

<p>Ouvrez votre <a href="https://vim.spf13.com" target="_blank">√©diteur favori</a> et changer l&rsquo;une des
sources des pages de contenu.
Open your <a href="http://vim.spf13.com" target="_blank">favorite editor</a> and change one of the source
content pages. Que diriez-vous de modifier ce fichier pour <em>r√©soudre une faute
de typo</em>.</p>

<p>Les fichiers de contenu peuvent √™tre trouv√©s dans <code>docs/content/</code>. Sauf
indication contraire, les fichiers sont situ√©s au m√™me emplacement relatif que
l&rsquo;URL, dans notre cas <code>docs/content/overview/quickstart.md</code>.</p>

<p>Modifiez et sauvegardez ce fichier. Notez ce qu&rsquo;il se passe dans le terminal.</p>

<pre><code>&gt; Change detected, rebuilding site

&gt; 29 pages created
&gt; 0 tags index created
&gt; in 26 ms
</code></pre>

<p>Rechargez la page dans votre navigateur et voyez que le probl√®me de typo est
maintenant r√©solu.</p>

<p>Notez √† quel point cela a √©t√© rapide. Essayez de recharger le site avant qu&rsquo;il
soit fini de compiler.
Notice how quick that was. Try to refresh the site before it&rsquo;s finished
building. Je paris que vous n&rsquo;y arrivez pas.
Le fait d&rsquo;avoir des r√©actions presque instantan√©es vous permet d&rsquo;avoir votre
cr√©ativit√© fluide sans avoir √† attendre de longues compilations.</p>

<h2 id="step-4-amusez-vous">Step 4. Amusez-vous</h2>

<p>Le meilleur moyen d&rsquo;apprendre quelque chose est de s&rsquo;amuser avec.</p>]]></content>
        </item>
        
        <item>
            <title>Introduction aux mod√®les (Hu)go</title>
            <link>/fr/posts/2014/04/introduction-aux-mod%C3%A8les-hugo/</link>
            <pubDate>Wed, 02 Apr 2014 00:00:00 +0000</pubDate>
            
            <guid>/fr/posts/2014/04/introduction-aux-mod%C3%A8les-hugo/</guid>
            <description>Hugo utilise l&amp;rsquo;excellente librairie go html/template pour son moteur de mod√®les. c&amp;rsquo;est un moteur extr√™mement l√©ger qui offre un tr√®s petit nombre de fonctions logiques. √Ä notre exp√©rience, c&amp;rsquo;est juste ce qu&amp;rsquo;il faut pour cr√©er un bon site web statique. Si vous avez d√©j√† utilis√© d&amp;rsquo;autre moteurs de mod√®les pour diff√©rents langages ou frameworks, vous allez retrouver beaucoup de similitudes avec les mod√®les go.
Ce document est une introduction sur l&amp;rsquo;utilisation de Go templates.</description>
            <content type="html"><![CDATA[

<p>Hugo utilise l&rsquo;excellente librairie <a href="http://golang.org/&gt;" target="_blank">go</a> <a href="http://golang.org/pkg/html/template/&gt;" target="_blank">html/template</a> pour
son moteur de mod√®les. c&rsquo;est un moteur extr√™mement l√©ger qui offre un tr√®s petit
nombre de fonctions logiques. √Ä notre exp√©rience, c&rsquo;est juste ce qu&rsquo;il faut pour
cr√©er un bon site web statique. Si vous avez d√©j√† utilis√© d&rsquo;autre moteurs de
mod√®les pour diff√©rents langages ou frameworks, vous allez retrouver beaucoup de
similitudes avec les mod√®les go.</p>

<p>Ce document est une introduction sur l&rsquo;utilisation de Go templates. La
<a href="http://golang.org/pkg/html/template/&gt;" target="_blank">documentation go</a> fourni plus de d√©tails.</p>

<h2 id="introduction-aux-mod√®les-go">Introduction aux mod√®les Go</h2>

<p>Go templates fournit un langage de mod√®les tr√®s simple. Il adh√®re √† la
conviction que les mod√®les ou les vues doivent avoir une logique des plus
√©l√©mentaires. L&rsquo;une des cons√©quences de cette simplicit√© est que les mod√®les
seront plus rapides a √™tre analys√©s.</p>

<p>Une caract√©ristique unique de Go templates est qu&rsquo;il est conscient du contenu.
Les variables et le contenu va √™tre nettoy√© suivant le contexte d&rsquo;utilisation.
Plus de d√©tails sont disponibles dans la <a href="http://golang.org/pkg/html/template/&gt;" target="_blank">documentation go</a>.</p>

<h2 id="syntaxe-basique">Syntaxe basique</h2>

<p>Les mod√®les en langage Go sont des fichiers HTML avec l&rsquo;ajout de variables et
fonctions.</p>

<p><strong>Les variables Go et les fonctions sont accessibles avec {{ }}</strong></p>

<p>Acc√®s √† une variable pr√©d√©finie &ldquo;foo&rdquo;:</p>

<pre><code>{{ foo }}
</code></pre>

<p><strong>Les param√®tres sont s√©par√©s par des espaces</strong></p>

<p>Appel de la fonction add avec 1 et 2 en argument**</p>

<pre><code>{{ add 1 2 }}
</code></pre>

<p><strong>Les m√©thodes et les champs sont accessibles par un point</strong></p>

<p>Acc√®s au param√®tre de la page &ldquo;bar&rdquo;</p>

<pre><code>{{ .Params.bar }}
</code></pre>

<p><strong>Les parenth√®ses peuvent √™tre utilis√©es pour grouper des √©l√©ments ensemble</strong></p>

<pre><code>{{ if or (isset .Params &quot;alt&quot;) (isset .Params &quot;caption&quot;) }} Caption {{ end }}
</code></pre>

<h2 id="variables">Variables</h2>

<p>Chaque mod√®le go a une structure (objet) mis √† sa disposition. Avec Hugo, √†
chaque mod√®le est pass√© soit une page, soit une structure de n≈ìud, suivant quel
type de page vous rendez. Plus de d√©tails sont disponibles sur la page des
<a href="/layout/variables">variables</a>.</p>

<p>Une variable est accessible par son nom.</p>

<pre><code>&lt;title&gt;{{ .Title }}&lt;/title&gt;
</code></pre>

<p>Les variables peuvent √©galement √™tre d√©finies et appel√©es.</p>

<pre><code>{{ $address := &quot;123 Main St.&quot;}}
{{ $address }}
</code></pre>

<h2 id="functions">Functions</h2>

<p>Go templace est livr√© avec quelques fonctions qui fournissent des
fonctionnalit√©s basiques. Le syst√®me de Go template fourni √©galement un
m√©canisme permettant aux applications d&rsquo;√©tendre les fonctions disponible. Les
<a href="/layout/functions">fonctions de mod√®le Hugo</a> fourni quelques fonctionnalit√©s
suppl√©mentaires que nous esp√©rons qu&rsquo;elles seront utiles pour vos sites web.
Les functions sont appel√©es en utilisant leur nom suivi par les param√®tres
requis s√©par√©s par des espaces. Des fonctions de mod√®les ne peuvent pas √™tre
ajout√©es sans recompiler Hugo.</p>

<p><strong>Exemple:</strong></p>

<pre><code>{{ add 1 2 }}
</code></pre>

<h2 id="inclusions">Inclusions</h2>

<p>Lorsque vous incluez un autre mod√®le, vous devez y passer les donn√©es qu&rsquo;il sera
en mesure d&rsquo;acc√®der. Pour passer le contexte actuel, pensez √† ajouter un point.
La localisation du mod√®le sera toujours √† partir du r√©pertoire /layout/ dans
Hugo.</p>

<p><strong>Exemple:</strong></p>

<pre><code>{{ template &quot;chrome/header.html&quot; . }}
</code></pre>

<h2 id="logique">Logique</h2>

<p>Go templates fourni les it√©rations et la logique conditionn√®le des plus basique.</p>

<h3 id="it√©ration">It√©ration</h3>

<p>Comme en go, les mod√®les go utilisent fortement <em>range</em> pour it√©rer dans une
map, un array ou un slice. Les exemples suivant montre diff√©rentes fa√ßons
d&rsquo;utiliser <em>range</em></p>

<p><strong>Exemple 1: En utilisant le context</strong></p>

<pre><code>{{ range array }}
    {{ . }}
{{ end }}
</code></pre>

<p><strong>Exemple 2: En d√©clarant un nom de variable</strong></p>

<pre><code>{{range $element := array}}
    {{ $element }}
{{ end }}
</code></pre>

<p><strong>Exemple 2: En d√©clarant un nom de varialbe pour la cl√© et la valeur</strong></p>

<pre><code>{{range $index, $element := array}}
    {{ $index }}
    {{ $element }}
{{ end }}
</code></pre>

<h3 id="conditions">Conditions</h3>

<p><em>If</em>, <em>else</em>, <em>with</em>, <em>or</em>, <em>&amp;</em>, <em>and</em> fournissent la base pour la logique
conditionnelle avec Go templates. Comme <em>range</em>, chaque d√©claration est ferm√©
avec <code>end</code>.</p>

<p>Go templates consid√®re les valeurs suivante comme <em>false</em> :</p>

<ul>
<li>false</li>
<li>0</li>
<li>tout array, slice, map ou chaine d&rsquo;une longueur de z√©ro</li>
</ul>

<p><strong>Exemple 1: If</strong></p>

<pre><code>{{ if isset .Params &quot;title&quot; }}&lt;h4&gt;{{ index .Params &quot;title&quot; }}&lt;/h4&gt;{{ end }}
</code></pre>

<p><strong>Exemple 2: If -&gt; Else</strong></p>

<pre><code>{{ if isset .Params &quot;alt&quot; }}
    {{ index .Params &quot;alt&quot; }}
{{else}}
    {{ index .Params &quot;caption&quot; }}
{{ end }}
</code></pre>

<p><strong>Exemple 3: And &amp; Or</strong></p>

<pre><code>{{ if and (or (isset .Params &quot;title&quot;) (isset .Params &quot;caption&quot;))
    (isset .Params &quot;attr&quot;)}}
</code></pre>

<p><strong>Exemple 4: With</strong></p>

<p>Une mani√®re alternative d&rsquo;√©crire un &ldquo;if&rdquo; et de r√©f√©rencer cette m√™me valeur est
d&rsquo;utiliser &ldquo;with&rdquo;. Cela permet de remplacer le contexte <code>.</code> par cet valeur et
saute le bloc si la variable est absente.</p>

<p>Le premier exemple peut √™tre simplifi√© √† ceci :</p>

<pre><code>{{ with .Params.title }}&lt;h4&gt;{{ . }}&lt;/h4&gt;{{ end }}
</code></pre>

<p><strong>Exemple 5: If -&gt; Else If</strong></p>

<pre><code>{{ if isset .Params &quot;alt&quot; }}
    {{ index .Params &quot;alt&quot; }}
{{ else if isset .Params &quot;caption&quot; }}
    {{ index .Params &quot;caption&quot; }}
{{ end }}
</code></pre>

<h2 id="pipes"><em>Pipes</em></h2>

<p>L&rsquo;un des composants le plus puissant de Go templates est la capacit√© d&rsquo;empiler
les action l&rsquo;une apr√®s l&rsquo;autre. Cela est fait en utilisant les <em>pipes</em>.
Emprunt√©s aux <em>pipes</em> unix, le concept est simple. Chaque sortie de <em>pipeline</em>
devient l&rsquo;entr√©e du <em>pipe</em> suivant.</p>

<p>√Ä cause de la syntaxe tr√®s simple de Go templates, le <em>pipe</em> est essentiel pour
√™tre capable d&rsquo;enchainer les appels de fonctions. Une limitation des <em>pipes</em>
est qu&rsquo;il ne peuvent fonctionner seulement avec une seule valeur et cette valeur
devient le dernier param√®tre du prochain <em>pipeline</em>.</p>

<p>Quelques exemples simple devrait vous aider √† comprendre comment utiliser les
<em>pipes</em>.</p>

<p><strong>Exemple 1 :</strong></p>

<pre><code>{{ if eq 1 1 }} Same {{ end }}
</code></pre>

<p>est identique √†</p>

<pre><code>{{ eq 1 1 | if }} Same {{ end }}
</code></pre>

<p>Il semble √©trange de placer le <em>if</em> √† la fin, mais il fournit une bonne
illustration de la fa√ßon d&rsquo;utiliser les tuyaux.</p>

<p><strong>Exemple 2 :</strong></p>

<pre><code>{{ index .Params &quot;disqus_url&quot; | html }}
</code></pre>

<p>Acc√®s au param√®tre de page nomm√© &ldquo;disqus_url&rdquo; et √©chappement du HTML</p>

<p><strong>Exemple 3 :</strong></p>

<pre><code>{{ if or (or (isset .Params &quot;title&quot;) (isset .Params &quot;caption&quot;))
    (isset .Params &quot;attr&quot;)}}
Stuff Here
{{ end }}
</code></pre>

<p>Peut √™tre r√©√©crit en</p>

<pre><code>{{  isset .Params &quot;caption&quot; | or isset .Params &quot;title&quot; |
    or isset .Params &quot;attr&quot; | if }}
Stuff Here
{{ end }}
</code></pre>

<h2 id="contexte-alias-le-point">Contexte (alias. le point)</h2>

<p>Le concept le plus facilement n√©glig√© pour comprendre les mod√®les go est que
{{ . }} fait toujours r√©f√©rence au contexte actuel. Dans le plus haut niveau de
votre mod√®le, ce sera l&rsquo;ensemble des donn√©es mis √† votre disposition. Dans une
it√©ration, ce sera la valeur de l&rsquo;√©l√©ment actuel. Enfin, dans une boucle, le
contexte change. . ne fera plus r√©f√©rence aux donn√©es disponibles dans la page
enti√®re. Si vous avez besoin y d&rsquo;acc√®der depuis l&rsquo;int√©rieur d&rsquo;une boucle, il est
judicieux d&rsquo;y d√©finir comme variable au lieu de d√©pendre du contexte.</p>

<p><strong>Exemple:</strong></p>

<pre><code>{{ $title := .Site.Title }}
{{ range .Params.tags }}
&lt;li&gt; &lt;a href=&quot;{{ $baseurl }}/tags/{{ . | urlize }}&quot;&gt;
    {{ . }}&lt;/a&gt; - {{ $title }} &lt;/li&gt;
{{ end }}
</code></pre>

<p>Notez que, une fois que nous sommes entr√©s dans la boucle, la valeur de
{{ . }} a chang√©e. Nous avons d√©fini une variable en dehors de la boucle, afin
d&rsquo;y avoir acc√®s dans la boucle.</p>

<h1 id="les-param√®tres-d-hugo">Les Param√®tres d&rsquo;Hugo</h1>

<p>Hugo fournit l&rsquo;option de passer des valeurs au mod√®le depuis la configuration du
site, ou depuis les m√©tadonn√©es de chaque partie du contenu. Vous pouvez d√©finir
n&rsquo;importe quelle valeur de n&rsquo;importe quel type (support√© par votre section
liminaire / format de configuration) et les utiliser comme vous le souhaitez
dans votre mod√®le.</p>

<h2 id="utiliser-les-param√®tres-de-contenu-page">Utiliser les param√®tres de contenu (page)</h2>

<p>Dans chaque partie du contenu, vous pouvez fournir des variables pour √™tre
utilis√©es par le mod√®le. Cela se passe dans la
<a href="/content/front-matter">section liminaire</a>.</p>

<p>Un exemple de cela est utilis√© par ce site de documentation. La plupart des
pages b√©n√©ficient de la pr√©sentation de la table des mati√®res. Quelques fois,
la table des mati√®res n&rsquo;a pas beaucoup de sens. Nous avons d√©fini une variable
dans notre section liminaire de quelques pages pour d√©sactiver la table des
mati√®res.</p>

<p>Ceci est un exemple de section liminaire :</p>

<pre><code>---
title: &quot;Permalinks&quot;
date: &quot;2013-11-18&quot;
aliases:
  - &quot;/doc/permalinks/&quot;
groups: [&quot;extras&quot;]
groups_weight: 30
notoc: true
---
</code></pre>

<p>Ceci est le code correspondant dans le mod√®le :</p>

<pre><code>  {{ if not .Params.notoc }}
    &lt;div id=&quot;toc&quot; class=&quot;well col-md-4 col-sm-6&quot;&gt;
    {{ .TableOfContents }}
    &lt;/div&gt;
  {{ end }}
</code></pre>

<h2 id="utiliser-les-param√®tres-de-site-config">Utiliser les param√®tres de site (config)</h2>

<p>Dans votre configuration de plus haut niveau (ex <code>config.yaml</code>), vous pouvez
d√©finir des param√®tres de site, dont les valeurs vous seront accessibles.</p>

<p>Pour les instances, vous pourriez d√©larer :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">params:
  CopyrightHTML: <span style="color:#e6db74">&#34;Copyright &amp;#xA9; 2013 John Doe. All Rights Reserved.&#34;</span>
  TwitterUser: <span style="color:#e6db74">&#34;spf13&#34;</span>
  SidebarRecentLimit: <span style="color:#ae81ff">5</span></code></pre></div>
<p>Avec un pied de page, vous devriez d√©clarer un <code>&lt;footer&gt;</code> qui est affich√©
seulement si le param√®tre <code>CopyrightHTML</code> est d√©clar√©, et si il l&rsquo;est, vous
devriez le d√©clarer comme HTML-safe, afin d&rsquo;√©viter d&rsquo;√©chapper les entit√©s HTML.
Cela vous permettra de le modifier facilement dans votre configuration au lieu
de le chercher dans votre mod√®le.</p>

<pre><code>{{if .Site.Params.CopyrightHTML}}&lt;footer&gt;
&lt;div class=&quot;text-center&quot;&gt;{{.Site.Params.CopyrightHTML | safeHtml}}&lt;/div&gt;
&lt;/footer&gt;{{end}}
</code></pre>

<p>Une alternative au &ldquo;if&rdquo; et d&rsquo;appeler la m√™me valeur est d&rsquo;utiliser &ldquo;with&rdquo;. Cela
modifiera le contexte et passera le bloc si la variable est absente :</p>

<pre><code>{{with .Site.Params.TwitterUser}}&lt;span class=&quot;twitter&quot;&gt;
&lt;a href=&quot;https://twitter.com/{{.}}&quot; rel=&quot;author&quot;&gt;
&lt;img src=&quot;/images/twitter.png&quot; width=&quot;48&quot; height=&quot;48&quot; title=&quot;Twitter: {{.}}&quot;
 alt=&quot;Twitter&quot;&gt;&lt;/a&gt;
&lt;/span&gt;{{end}}
</code></pre>

<p>Enfin, si vous souhaitez extraire des &ldquo;constantes magiques&rdquo; de vos mises en
page, vous pouvez le faire comme dans l&rsquo;exemple suivant :</p>

<pre><code>&lt;nav class=&quot;recent&quot;&gt;
  &lt;h1&gt;Recent Posts&lt;/h1&gt;
  &lt;ul&gt;{{range first .Site.Params.SidebarRecentLimit .Site.Recent}}
    &lt;li&gt;&lt;a href=&quot;{{.RelPermalink}}&quot;&gt;{{.Title}}&lt;/a&gt;&lt;/li&gt;
  {{end}}&lt;/ul&gt;
&lt;/nav&gt;
</code></pre>
]]></content>
        </item>
        
        <item>
            <title>Migrer vers Hugo depuis Jekyll</title>
            <link>/fr/posts/2014/03/migrer-vers-hugo-depuis-jekyll/</link>
            <pubDate>Mon, 10 Mar 2014 00:00:00 +0000</pubDate>
            
            <guid>/fr/posts/2014/03/migrer-vers-hugo-depuis-jekyll/</guid>
            <description>&lt;h2 id=&#34;d√©placez-le-contenu-statique-vers-static&#34;&gt;D√©placez le contenu statique vers &lt;code&gt;static&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Jekyll a une r√®gle comme quoi tout r√©pertoire qui ne commence pas par &lt;code&gt;_&lt;/code&gt; sera
copi√© tel-quel dans le r√©pertoire &lt;code&gt;_site&lt;/code&gt;. Hugo garde tout le contenu statique
dans le r√©pertoire &lt;code&gt;static&lt;/code&gt;. Vous devez donc d√©placer tout ce type de contenu
l√†-dedans. Avec Jekylll, l&amp;rsquo;arborescence ressemblant √† ceci :&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;‚ñæ &amp;lt;root&amp;gt;/
    ‚ñæ images/
        logo.png
&lt;/code&gt;&lt;/pre&gt;</description>
            <content type="html"><![CDATA[<h2 id="d√©placez-le-contenu-statique-vers-static">D√©placez le contenu statique vers <code>static</code></h2>

<p>Jekyll a une r√®gle comme quoi tout r√©pertoire qui ne commence pas par <code>_</code> sera
copi√© tel-quel dans le r√©pertoire <code>_site</code>. Hugo garde tout le contenu statique
dans le r√©pertoire <code>static</code>. Vous devez donc d√©placer tout ce type de contenu
l√†-dedans. Avec Jekylll, l&rsquo;arborescence ressemblant √† ceci :</p>

<pre><code>‚ñæ &lt;root&gt;/
    ‚ñæ images/
        logo.png
</code></pre>

<p>doit devenir</p>

<pre><code>‚ñæ &lt;root&gt;/
    ‚ñæ static/
        ‚ñæ images/
            logo.png
</code></pre>

<p>En outre, vous allez devoir d√©placer tous les fichiers pr√©sents √† la racine vers
le r√©pertoire <code>static</code>.</p>

<h2 id="cr√©ez-votre-configuration-hugo">Cr√©ez votre configuration Hugo</h2>

<p>Hugo peut lire votre fichier de configuration au format JSON, YAML et TOML. Hugo
supporte √©galement les param√®tres de configuration. Plus d&rsquo;informations sur la
<a href="/overview/configuration/">documentation de configuration Hugo</a></p>

<h2 id="d√©finiez-votre-r√©pertoire-de-publication-sur-site">D√©finiez votre r√©pertoire de publication sur <code>_site</code></h2>

<p>La valeur par d√©faut pour Jekyll est d&rsquo;utiliser le r√©pertoire <code>_site</code> pour
publier le contenu. Pour Hugo, le r√©pertoire de publication est <code>public</code>. Si,
comme moi, vous avez <a href="http://blog.blindgaenger.net/generate_github_pages_in_a_submodule.ht
ml" target="_blank">li√© <code>_site</code> vers un sous-module git sur la branche
<code>gh-pages</code></a>, vous allez vouloir avoir quelques alternatives :</p>

<ol>
<li><p>Changez votre lien du sous-module <code>gh-pages</code> pour pointer sur public au lieu
de <code>_site</code> (recommend√©).</p>

<pre><code>git submodule deinit _site
git rm _site
git submodule add -b gh-pages
    git@github.com:your-username/your-repo.git public
</code></pre></li>

<li><p>Ou modifiez la configuration de Hugo pour utiliser le r√©pertoire <code>_site</code> au
lieu de <code>public</code>.</p>

<pre><code>{
    ..
    &quot;publishdir&quot;: &quot;_site&quot;,
    ..
}
</code></pre></li>
</ol>

<h2 id="convertir-un-th√®me-jekyll-pour-hugo">Convertir un th√®me Jekyll pour Hugo</h2>

<p>C&rsquo;est la majeure partie du travail. La documentation est votre ami.
Vous devriez vous r√©f√©rer √† <a href="http://jekyllrb.com/docs/templates/" target="_blank">la documentation des th√®mes de Jekyll</a> si vous devez vous rafra√Æchir la m√©moire
sur la fa√ßon dont vous avez construit votre blog et <a href="/layout/templates/">les th√®mes de Hugo</a> pour apprendre la mani√®re de faire sur Hugo.</p>

<p>Pour vous donner un point de r√©f√©rence, la conversion du th√®me pour
<a href="http://heyitsalex.net/" target="_blank">heyitsalex.net</a> ne m&rsquo;a pris que quelques heures.</p>

<h2 id="convertir-les-extensions-jekyll-vers-des-shortcodes-hugo">Convertir les extensions Jekyll vers des shortcodes Hugo</h2>

<p>Jekyll support les <a href="http://jekyllrb.com/docs/plugins/" target="_blank">extensions</a>; Hugo lui a
les <a href="/doc/shortcodes/">shortcodes</a>. C&rsquo;est assez banal les porter.</p>

<h3 id="impl√©mentation">Impl√©mentation</h3>

<p>Comme exemple, j&rsquo;utilise une extension pour avoir un <a href="https://githu
b.com/alexandre-normand/alexandre-normand/blob/74bb12036a71334fdb7dba84e073382fc
06908ec/_plugins/image_tag.rb" target="_blank"><code>image_tag</code></a> presonnalis√© pour g√©n√©rer les images avec une
l√©gende sur Jekyll. J&rsquo;ai vu que Hugo impl√©mente un shortcode qui fait exactement
la m√™me chose.</p>

<p>Extension Jekyll :</p>

<pre><code>module Jekyll
  class ImageTag &lt; Liquid::Tag
    @url = nil
    @caption = nil
    @class = nil
    @link = nil
    // Patterns
    IMAGE_URL_WITH_CLASS_AND_CAPTION =
    IMAGE_URL_WITH_CLASS_AND_CAPTION_AND_LINK =
        /(\w+)(\s+)((https?:\/\/|\/)(\S+))(\s+)&quot;(.*?)&quot;(\s+)-&gt;
        ((https?:\/\/|\/)(\S+))(\s*)/i
    IMAGE_URL_WITH_CAPTION = /((https?:\/\/|\/)(\S+))(\s+)&quot;(.*?)&quot;/i
    IMAGE_URL_WITH_CLASS = /(\w+)(\s+)((https?:\/\/|\/)(\S+))/i
    IMAGE_URL = /((https?:\/\/|\/)(\S+))/i
    def initialize(tag_name, markup, tokens)
      super
      if markup =~ IMAGE_URL_WITH_CLASS_AND_CAPTION_AND_LINK
        @class   = $1
        @url     = $3
        @caption = $7
        @link = $9
      elsif markup =~ IMAGE_URL_WITH_CLASS_AND_CAPTION
        @class   = $1
        @url     = $3
        @caption = $7
      elsif markup =~ IMAGE_URL_WITH_CAPTION
        @url     = $1
        @caption = $5
      elsif markup =~ IMAGE_URL_WITH_CLASS
        @class = $1
        @url   = $3
      elsif markup =~ IMAGE_URL
        @url = $1
      end
    end
    def render(context)
      if @class
        source = &quot;&lt;figure class='#{@class}'&gt;&quot;
      else
        source = &quot;&lt;figure&gt;&quot;
      end
      if @link
        source += &quot;&lt;a href=\&quot;#{@link}\&quot;&gt;&quot;
      end
      source += &quot;&lt;img src=\&quot;#{@url}\&quot;&gt;&quot;
      if @link
        source += &quot;&lt;/a&gt;&quot;
      end
      source += &quot;&lt;figcaption&gt;#{@caption}&lt;/figcaption&gt;&quot; if @caption
      source += &quot;&lt;/figure&gt;&quot;
      source
    end
  end
end
Liquid::Template.register_tag('image', Jekyll::ImageTag)
</code></pre>

<p>√âcrite en tant que shortcode Hugo:</p>

<pre><code>&lt;!-- image --&gt;
&lt;figure {{ with .Get &quot;class&quot; }}class=&quot;{{.}}&quot;{{ end }}&gt;
    {{ with .Get &quot;link&quot;}}&lt;a href=&quot;{{.}}&quot;&gt;{{ end }}
        &lt;img src=&quot;{{ .Get &quot;src&quot; }}&quot;
            {{ if or (.Get &quot;alt&quot;) (.Get &quot;caption&quot;) }}
                alt=&quot;{{ with .Get &quot;alt&quot;}}
                        {{.}}
                     {{else}}
                        {{ .Get &quot;caption&quot; }}
                     {{ end }}&quot;
               {{ end }} /&gt;
    {{ if .Get &quot;link&quot;}}&lt;/a&gt;{{ end }}
    {{ if or (or (.Get &quot;title&quot;) (.Get &quot;caption&quot;)) (.Get &quot;attr&quot;)}}
    &lt;figcaption&gt;{{ if isset .Params &quot;title&quot; }}
        {{ .Get &quot;title&quot; }}{{ end }}
        {{ if or (.Get &quot;caption&quot;) (.Get &quot;attr&quot;)}}&lt;p&gt;
        {{ .Get &quot;caption&quot; }}
        {{ with .Get &quot;attrlink&quot;}}&lt;a href=&quot;{{.}}&quot;&gt; {{ end }}
            {{ .Get &quot;attr&quot; }}
        {{ if .Get &quot;attrlink&quot;}}&lt;/a&gt; {{ end }}
        &lt;/p&gt; {{ end }}
    &lt;/figcaption&gt;
    {{ end }}
&lt;/figure&gt;
&lt;!-- image --&gt;
</code></pre>

<h3 id="utilisation">Utilisation</h3>

<p>J&rsquo;ai simplement chang√© :</p>

<pre><code>{% image
    full http://farm5.staticflickr.com/4136/4829260124_57712e570a_o_d.jpg
    &quot;One of my favorite touristy-type photos. I secretly waited for the
    good light while we were &quot;having fun&quot; and took this. Only regret: a
    stupid pole in the top-left corner of the frame I had to clumsily get
    rid of at post-processing.&quot;
    -&gt;http://www.flickr.com/photos/alexnormand/4829260124/in/
        set-72157624547713078/ %}
</code></pre>

<p>pour cela (cet exemple utilise une version l√©g√®rement √©tendue nomm√©e <code>fig</code>,
diff√©rente de la <code>figure</code> int√©gr√©e) :</p>

<pre><code>{{% fig class=&quot;full&quot;
    src=&quot;http://farm5.staticflickr.com/4136/4829260124_57712e570a_o_d.jpg&quot;
    title=&quot;One of my favorite touristy-type photos. I secretly waited for the
    good light while we were having fun and took this. Only regret: a stupid
    pole in the top-left corner of the frame I had to clumsily get rid of at
    post-processing.&quot;
    link=&quot;http://www.flickr.com/photos/alexnormand/4829260124/in/
            set-72157624547713078/&quot; %}}
</code></pre>

<p>Comme bonus, les param√®tres nomm√©s des shortcodes sont plus lisibles.</p>

<h2 id="touches-finales">Touches finales</h2>

<h3 id="corriger-le-contenu">Corriger le contenu</h3>

<p>Suivant le nombre de modifications que vous avez effectu√© sur chaque articles
avec Jekyll, cette √©tape requierra plus ou moins d&rsquo;efforts. Il n&rsquo;y a pas de
r√®gles rigoureuses ici, si ce n&rsquo;est que <code>hugo server --watch</code> est votre ami.
Testez vos modifications et corrigez les erreurs au besoin.</p>

<h3 id="nettoyez-le-tout">Nettoyez le tout</h3>

<p>Vous voudrez s√ªrement supprimer votre configuration Jekyll maintenant que tout
est fini. Exact, pensez √† supprimer tout ce qui est inutilis√©.</p>

<h2 id="un-exemple-pratique">Un exemple pratique</h2>

<p><a href="http://heyitsalex.net/" target="_blank">Hey, it&rsquo;s Alex</a> a √©t√© migr√© de Jekyll vers Hugo en
moins de temps qu&rsquo;une journ√©e p√®re enfant. Vous pouvez trouver toutes les
modification en regardant ce <a href="https://github.com/alexandre-normand/alexand
re-normand/compare/869d69435bd2665c3fbf5b5c78d4c22759d7613a...b7f6605b1265e83b4b
81495423294208cc74d610" target="_blank">diff</a>.</p>]]></content>
        </item>
        
    </channel>
</rss>
